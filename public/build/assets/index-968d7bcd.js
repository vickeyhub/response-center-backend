import{d as y,a as k,u as H,f as x,b as R}from"./mentalHealth-061c93a4.js";import{_ as C,r,o,f as i,b as t,F as p,j as b,k as w,v as B,t as m,n as D,h as f,e as h,w as S,u as L}from"./app-1983373d.js";import{B as M}from"./Breadcrumb-0722ea03.js";import{R as P}from"./RightSideButton-c34e14fb.js";import{L as $}from"./LeftSideHeader-ba42ca70.js";const A={props:{mentalHealth:Array,totalCount:Number},data(){return{selectedMenatlHealth:[]}},methods:{changePage(s){this.$emit("changePage",(s-1)*10)},editRecord(s){this.$emit("getRecord",s)},deleteRecord(s){this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&y(s).then(()=>{this.$emit("changePage",0)})})},deleteData(){const s=this.selectedMenatlHealth;this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&k({mental_health_ids:s}).then(()=>{this.$emit("changePage",0),this.selectedMenatlHealth=[]})})},updateStatus(s,e){s.status=e,H(s,s.id).then(()=>{this.$emit("changePage",0)}).catch(c=>{var u;(u=c.response)!=null&&u.data&&console.log(response.message)})}}},T={class:"table-responsive"},N={class:"table align-middle"},V=t("thead",null,[t("tr",null,[t("th",{width:"45px"}),t("th",null,"Title"),t("th",{width:"250"},"Status"),t("th",{width:"150"},"Action")])],-1),Q={key:0},E=["value"],I={class:"row flex-nowrap align-items-center"},j={class:"col"},F={class:"user-info"},G=["onClick"],U={class:"actions"},z=["onClick"],q=t("i",{class:"icon-edit"},null,-1),J=["onClick"],K=t("i",{class:"icon-delete"},null,-1),O={key:1},W=t("tr",null,[t("td",{colspan:"6",class:"text-center"},"No record found")],-1),X=[W],Y={class:"row gy-4 align-items-center"},Z={class:"col-auto"},tt=["disabled"],et={class:"col-auto ms-auto"},st={class:"row align-items-center justify-content-end"},nt=t("div",{class:"col-auto"},"Page",-1),at={class:"col ps-0"},lt={class:"pagination-wrap"},ot={class:"pagination flex-wrap pagination-sm mb-0"},it={class:"page-item"};function ct(s,e,c,u,a,l){const g=r("btn");return o(),i(p,null,[t("div",T,[t("table",N,[V,c.mentalHealth.length?(o(),i("tbody",Q,[(o(!0),i(p,null,b(c.mentalHealth,(n,_)=>(o(),i("tr",{key:_},[t("td",null,[w(t("input",{class:"form-check-input",value:n.id,"onUpdate:modelValue":e[0]||(e[0]=d=>a.selectedMenatlHealth=d),type:"checkbox"},null,8,E),[[B,a.selectedMenatlHealth]])]),t("td",null,[t("div",I,[t("div",j,[t("div",F,m(n.title),1)])])]),t("td",null,[t("span",{onClick:d=>l.updateStatus(n,n.status===1?0:1),class:D(n.status==1?"status active":"status")},null,10,G)]),t("td",null,[t("ul",U,[t("li",null,[t("button",{class:"btn btn-link",onClick:d=>s.goToEdit(`/mental-health/edit/${n.id}`,n.id)},[q,f("Edit ")],8,z)]),t("li",null,[t("button",{class:"btn",onClick:d=>l.deleteRecord(n.id)},[K,f("Delete ")],8,J)])])])]))),128))])):(o(),i("tbody",O,X))])]),t("div",Y,[t("div",Z,[t("button",{class:"btn btn-danger py-2",onClick:e[1]||(e[1]=(...n)=>l.deleteData&&l.deleteData(...n)),disabled:!a.selectedMenatlHealth.length}," Delete Selected ",8,tt)]),t("div",et,[t("div",st,[nt,t("div",at,[t("nav",lt,[t("ul",ot,[(o(!0),i(p,null,b(c.totalCount,n=>(o(),i("div",null,[t("li",it,[h(g,{onClick:_=>l.changePage(n),class:"page-link",href:"#"},{default:S(()=>[f(m(n),1)]),_:2},1032,["onClick"])])]))),256))])])])])])])],64)}const dt=C(A,[["render",ct]]),rt={name:"MentalHealthList",components:{List:dt,Breadcrumb:M,RightSideButton:P,LeftSideHeader:$},data(){return{btnData:{title:"Add New",url:"/mental-health/add"},mentalHealth:[],searchQuery:"",totalPages:1,totalRecords:0,minAge:null,maxAge:null,rangeId:0,displayComponent:!0,breadcrumbs:[{class:null,url:"/mental-health/list",name:"Mental Health"},{class:"active",url:"",name:"List"}]}},created(){this.getData()},methods:{getData(s=0){this.listLoading=!0,x(`?skip=${s}&search=${this.searchQuery}`).then(e=>{this.totalRecords=e.data.totalRecords,this.totalPages=e.data.totalRecords>10?Math.ceil(e.data.totalRecords/10):1,this.mentalHealth=e.data.data})},get(s){this.displayComponent=!1,R(s).then(e=>{this.displayComponent=!0,e.success===!0&&(this.rangeId=e.data.id)})}}},ht={class:"section-content bg-white col p-4"},ut={class:"title-box"},_t={class:"row gy-3"},mt={class:"content-wrap pt-4"},gt={class:"row mb-3 g-3 flex-sm-row-reverse align-items-center"},pt={class:"col-sm-auto"},ft={class:"data-search"},vt={class:"col"},bt={class:"data-info"};function Ct(s,e,c,u,a,l){const g=r("Breadcrumb"),n=r("LeftSideHeader"),_=r("RightSideButton"),d=r("List");return o(),i("section",ht,[h(g,{crumbs:a.breadcrumbs},null,8,["crumbs"]),t("div",ut,[t("div",_t,[h(n,{headerData:"All Articles"}),h(_,{btnData:a.btnData},null,8,["btnData"])])]),t("div",mt,[t("div",gt,[t("div",pt,[t("div",ft,[w(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=v=>a.searchQuery=v),onInput:e[1]||(e[1]=v=>l.getData()),class:"form-control form-control-sm",placeholder:"Search by Title"},null,544),[[L,a.searchQuery]])])]),t("div",vt,[t("div",bt," Showing "+m(a.mentalHealth.length)+" of "+m(a.totalRecords)+" Results ",1)])]),h(d,{mentalHealth:a.mentalHealth,totalCount:a.totalPages,onChangePage:l.getData,onGetRecord:l.get},null,8,["mentalHealth","totalCount","onChangePage","onGetRecord"])])])}const Rt=C(rt,[["render",Ct]]);export{Rt as default};
