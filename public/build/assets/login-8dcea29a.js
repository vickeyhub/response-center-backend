import{_ as g,a as f,s as d,d as m,r as i,o as h,c as v,w as b,b as e,e as t,f as w,g as x,h as _}from"./app-1983373d.js";const k={name:"LoginForm",data(){return{loginForm:{email:"",password:""},loading:!1,schema:{email:"required|email",password:"required|min:6"}}},methods:{async handleLogin(){this.loading=!0,await f.post("/api/auth/login",this.loginForm).then(async o=>{o.data&&o.data.success===!0?(await d.dispatch("auth/login",o.data.data),await d.dispatch("auth/getUser",{token:o.data.data.token}),o.data.data.role&&o.data.data.role.name=="CMS"?await this.$router.push({name:"admin.blogs"}):await this.$router.push({name:"admin.dashboard"})):m.useToast().open({message:o.data.message,type:"error",position:"top-right"})}).catch(o=>{var s;(s=o.response)!=null&&s.data&&m.useToast().open({message:o.response.data.message,type:"error",position:"top-right"})})}}},y={class:"form-field"},$=e("label",{for:""},"Username",-1),V={class:"form-field"},F=e("label",{for:""},"Password",-1),L=e("div",{class:"form-field"},[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"remember"}),e("label",{class:"form-check-label",for:"remember"}," Remember me ")])],-1),E=e("div",{class:"submit-wrap"},[e("button",{type:"submit",class:"btn w-100 btn-secondary"},"LOGIN")],-1);function C(o,s,l,G,a,p){const r=i("vee-field"),c=i("ErrorMessage"),u=i("vee-form");return h(),v(u,{"validation-schema":a.schema,onSubmit:p.handleLogin},{default:b(()=>[e("div",y,[$,t(r,{name:"email",type:"text",modelValue:a.loginForm.email,"onUpdate:modelValue":s[0]||(s[0]=n=>a.loginForm.email=n),class:"form-control",placeholder:"Enter Username"},null,8,["modelValue"]),t(c,{class:"invalid-feedback",name:"email"})]),e("div",V,[F,t(r,{name:"password",type:"password",modelValue:a.loginForm.password,"onUpdate:modelValue":s[1]||(s[1]=n=>a.loginForm.password=n),class:"form-control",placeholder:"Enter Password"},null,8,["modelValue"]),t(c,{class:"invalid-feedback",name:"password"})]),L,E]),_:1},8,["validation-schema","onSubmit"])}const U=g(k,[["render",C]]),B={class:"container login-container"},N=e("div",{class:"login-logo"},[e("img",{src:x,alt:"Responsive Centers"})],-1),M={class:"login-wrap"},P={class:"row h-100 align-items-center g-5 mt-1 mt-xl-0"},R=e("div",{class:"col-12 col-xl d-none d-xl-block"},[e("h1",null,[_("Responsive Centers "),e("br"),_("for Psychology & Learning")])],-1),S={class:"col-12 col-xl-auto"},T={class:"login-box"},q=e("h2",null,"Login",-1),O={__name:"login",setup(o){return(s,l)=>(h(),w("div",B,[N,e("div",M,[e("div",P,[R,e("div",S,[e("div",T,[q,t(U)])])])])]))}};export{O as default};
