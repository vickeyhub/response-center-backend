import{b as D,u as y}from"./service-38c9e13c.js";import{_ as f,r,o as u,f as h,e as a,w as S,b as e,n as w,t as v,l as V,y as E,z as k,h as c}from"./app-1983373d.js";/* empty css                                                         */import{B as x}from"./Breadcrumb-0722ea03.js";import{R as C}from"./RightSideButton-c34e14fb.js";import{L as B}from"./LeftSideHeader-ba42ca70.js";const T={data(){return{imageName:"",dragging:!1,image:null,serviceData:{title:null,image:null,sub_title:null,description:"",meta_title:null,meta_description:null,meta_keywords:null},schema:{title:"required|alpha_spaces|min:1|max:50|regex:^([^0-9]*)$",sub_title:"required|min:3|max:200"},descError:null}},async mounted(){await this.getService()},methods:{async getService(){const s=`${this.$route.params.serviceId}`;D(s).then(t=>{t.success===!0&&(this.serviceData=t.data,this.imageName=this.serviceData.image?this.serviceData.image.slice(this.serviceData.image.indexOf("uploads/")+8):null)})},updateService(){if(this.descError=null,this.serviceData.description=="")this.descError="This field is required.";else if(this.serviceData.description.length<50)this.descError="Minimum 50 characters should be there.";else{let s=new FormData;s.append("image",this.file),s.append("title",this.serviceData.title),s.append("sub_title",this.serviceData.sub_title),s.append("description",this.serviceData.description),s.append("meta_title",this.serviceData.meta_title),s.append("meta_description",this.serviceData.meta_description),s.append("meta_keywords",this.serviceData.meta_keywords),y(s,this.serviceData.id).then(t=>{this.handleResponse(t),t.success==!0&&this.$router.push({path:"/services/list"})}).catch(t=>{this.handleCatch(t)})}},onChange(s){var t=s.target.files||s.dataTransfer.files;if(!t.length){this.dragging=!1;return}this.createFile(t[0])},createFile(s){if(!s.type.match("jpg.*")&&!s.type.match("jpeg.*")&&!s.type.match("png.*")){this.handleResponse({message:"Format accepted: jpg, jpeg, png",success:!1}),this.dragging=!1;return}if(s.size>5e6){this.handleResponse({message:"please check file size no over 5 MB.",success:!1}),this.dragging=!1;return}this.imageName=s.name,this.file=s,this.dragging=!1},onChangeOfTitle(){this.serviceData.meta_title=this.serviceData.title,this.serviceData.meta_description=this.serviceData.title,this.serviceData.meta_keywords=this.serviceData.title}}},l=s=>(E("data-v-8b81b1b6"),s=s(),k(),s),M={class:"form-box"},N={class:"row"},I=l(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"Basic Details")],-1)),U={class:"col-md-6"},R={class:"form-field"},j=l(()=>e("label",{for:""},[c("Title"),e("sup",null,"*")],-1)),F={class:"error invalid-feedback"},H={class:"col-md-6"},z={class:"form-field"},L=l(()=>e("label",{for:""},[c("Sub Title"),e("sup",null,"*")],-1)),O={class:"error invalid-feedback"},Z={class:"col-12"},q={class:"form-field"},K=l(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},"Upload Image")]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),c(" Format accepted: jpg, jpeg, png ")])])],-1)),A={class:"uploader position-relative"},G={class:"uploader-info"},J=l(()=>e("i",{class:"icon-upload"},null,-1)),P=l(()=>e("p",{class:"dropZone-title"},[c(" Drag & drop or "),e("strong",null,"browse"),c(" your file. ")],-1)),Q={key:0},W={class:"col-12"},X={class:"form-field"},Y=l(()=>e("label",{for:""},[c("Description"),e("sup",null,"*")],-1)),$={class:"error invalid-feedback"},ee={class:"row"},te=l(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"SEO Fields")],-1)),se={class:"col-md-4"},ie={class:"form-field"},oe=l(()=>e("label",{for:""},"Meta Title",-1)),ae={class:"col-md-4"},le={class:"form-field"},re=l(()=>e("label",{for:""},"Meta Description",-1)),ne={class:"col-md-4"},de={class:"form-field"},ce=l(()=>e("label",{for:""},"Meta Keywords",-1)),me=l(()=>e("div",{class:"submit-wrap pt-3"},[e("button",{type:"submit",class:"btn btn-secondary"},"SUBMIT")],-1));function _e(s,t,g,b,i,n){const d=r("vee-field"),m=r("ErrorMessage"),_=r("ckeditor"),p=r("vee-form");return u(),h("div",M,[a(p,{"validation-schema":i.schema,onSubmit:n.updateService,enctype:"multipart/form-data"},{default:S(()=>[e("div",N,[I,e("div",U,[e("div",R,[j,a(d,{name:"title",type:"text",onInput:t[0]||(t[0]=o=>n.onChangeOfTitle()),modelValue:i.serviceData.title,"onUpdate:modelValue":t[1]||(t[1]=o=>i.serviceData.title=o),class:"form-control",placeholder:"Enter Title"},null,8,["modelValue"]),e("div",F,[a(m,{class:"invalid-feedback",name:"title"})])])]),e("div",H,[e("div",z,[L,a(d,{name:"sub_title",type:"text",modelValue:i.serviceData.sub_title,"onUpdate:modelValue":t[2]||(t[2]=o=>i.serviceData.sub_title=o),class:"form-control",placeholder:"Enter Sub Title"},null,8,["modelValue"]),e("div",O,[a(m,{class:"invalid-feedback",name:"sub_title"})])])]),e("div",Z,[e("div",q,[K,e("div",A,[e("div",G,[e("div",{class:w(["dropZone",i.dragging?"dropZone-over":""]),onDragenter:t[5]||(t[5]=o=>i.dragging=!0),onDragleave:t[6]||(t[6]=o=>i.dragging=!1)},[e("div",{class:"dropZone-info",onDrag:t[3]||(t[3]=(...o)=>n.onChange&&n.onChange(...o))},[J,P,i.imageName?(u(),h("small",Q,v(i.imageName),1)):V("",!0)],32),e("input",{type:"file",onChange:t[4]||(t[4]=(...o)=>n.onChange&&n.onChange(...o))},null,32)],34)])])])]),e("div",W,[e("div",X,[Y,a(_,{editor:s.editor,modelValue:i.serviceData.description,"onUpdate:modelValue":t[7]||(t[7]=o=>i.serviceData.description=o),config:s.editorConfig},null,8,["editor","modelValue","config"]),e("div",$,v(i.descError),1)])])]),e("div",ee,[te,e("div",se,[e("div",ie,[oe,a(d,{name:"meta_title",type:"text",modelValue:i.serviceData.meta_title,"onUpdate:modelValue":t[8]||(t[8]=o=>i.serviceData.meta_title=o),class:"form-control",placeholder:"Enter Meta Title"},null,8,["modelValue"])])]),e("div",ae,[e("div",le,[re,a(d,{name:"meta_description",type:"text",modelValue:i.serviceData.meta_description,"onUpdate:modelValue":t[9]||(t[9]=o=>i.serviceData.meta_description=o),class:"form-control",placeholder:"Enter Meta Description"},null,8,["modelValue"])])]),e("div",ne,[e("div",de,[ce,a(d,{name:"meta_keywords",type:"text",modelValue:i.serviceData.meta_keywords,"onUpdate:modelValue":t[10]||(t[10]=o=>i.serviceData.meta_keywords=o),class:"form-control",placeholder:"Enter Meta Keywords"},null,8,["modelValue"])])])]),me]),_:1},8,["validation-schema","onSubmit"])])}const pe=f(T,[["render",_e],["__scopeId","data-v-8b81b1b6"]]),ue={name:"Services",components:{Edit:pe,Breadcrumb:x,RightSideButton:C,LeftSideHeader:B},data(){return{breadcrumbs:[{class:null,url:"/services/list",name:"Services"},{class:"active",url:"",name:"Edit"}],btnData:{title:"All Services",url:"/services/list"}}}},he={class:"section-content bg-white col p-4"},ve={class:"title-box"},fe={class:"row gy-3"},ge={class:"content-wrap pt-4"};function be(s,t,g,b,i,n){const d=r("Breadcrumb"),m=r("LeftSideHeader"),_=r("RightSideButton"),p=r("Edit",!0);return u(),h("section",he,[a(d,{crumbs:i.breadcrumbs},null,8,["crumbs"]),e("div",ve,[e("div",fe,[a(m,{headerData:"Edit Service"}),a(_,{btnData:i.btnData},null,8,["btnData"])])]),e("div",ge,[a(p)])])}const ke=f(ue,[["render",be]]);export{ke as default};
