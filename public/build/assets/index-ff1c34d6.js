import{d as w,a as D,u as x,f as R,b as B}from"./clinician-1c78da4e.js";import{n as v}from"./no-img-df4ddc69.js";import{_ as y,r as u,o as a,f as i,b as t,F as b,j as C,k,v as S,t as d,n as L,h as p,e as h,w as P,u as I}from"./app-1983373d.js";import{B as A}from"./Breadcrumb-0722ea03.js";import{R as T}from"./RightSideButton-c34e14fb.js";import{L as $}from"./LeftSideHeader-ba42ca70.js";const N={props:{clinicians:Array,totalCount:Number},data(){return{selectedClinicians:[],noImg:v}},methods:{noImage(n){n.target.src=v},changePage(n){this.$emit("changePage",(n-1)*10)},editRecord(n){this.$emit("getRecord",n)},deleteRecord(n){this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&w(n).then(()=>{this.$emit("changePage",0),console.log(this.selectedClinicians.length)})})},deleteData(){const n=this.selectedClinicians;this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&D({clinicians:n}).then(()=>{this.$emit("changePage",0),this.selectedClinicians=[]})})},updateStatus(n,e){n.status=e,x(n,n.id).then(()=>{}).catch(r=>{var _;(_=r.response)!=null&&_.data&&console.log(response.message)})}}},E={class:"table-responsive"},V={class:"table align-middle"},z=t("thead",null,[t("tr",null,[t("th",{width:"45px"}),t("th",null,"Clinician Info"),t("th",null,"Email"),t("th",null,"Azalea ID"),t("th",null,"Tru Billing ID"),t("th",null,"Status"),t("th",null,"Action")])],-1),M={key:0},Q=["value"],H={class:"row flex-nowrap align-items-center"},j={class:"col-auto"},F={class:"user-img"},G=["src","alt"],U=["alt","src"],q={class:"col"},O={class:"user-info"},J=["onClick"],K={class:"actions"},W=["onClick"],X=t("i",{class:"icon-edit"},null,-1),Y=["onClick"],Z=t("i",{class:"icon-delete"},null,-1),tt={key:1},et=t("tr",null,[t("td",{colspan:"6",class:"text-center"},"No record found")],-1),st=[et],nt={class:"row gy-4 align-items-center"},ot={class:"col-auto"},lt=["disabled"],at={class:"col-auto ms-auto"},it={class:"row align-items-center justify-content-end"},ct=t("div",{class:"col-auto"},"Page",-1),dt={class:"col ps-0"},rt={class:"pagination-wrap"},ut={class:"pagination flex-wrap pagination-sm mb-0"},ht={class:"page-item"};function _t(n,e,r,_,o,l){const g=u("btn");return a(),i(b,null,[t("div",E,[t("table",V,[z,r.clinicians.length?(a(),i("tbody",M,[(a(!0),i(b,null,C(r.clinicians,(s,m)=>(a(),i("tr",{key:m},[t("td",null,[k(t("input",{class:"form-check-input",value:s.id,"onUpdate:modelValue":e[0]||(e[0]=c=>o.selectedClinicians=c),type:"checkbox"},null,8,Q),[[S,o.selectedClinicians]])]),t("td",null,[t("div",H,[t("div",j,[t("div",F,[s.image?(a(),i("img",{key:0,src:`${s.image}`,alt:s.name,onError:e[1]||(e[1]=(...c)=>l.noImage&&l.noImage(...c))},null,40,G)):(a(),i("img",{key:1,alt:s.name,src:o.noImg},null,8,U))])]),t("div",q,[t("div",O,[t("strong",null,d(s.name),1),t("small",null,d(s.qualification),1)])])])]),t("td",null,d(s.email),1),t("td",null,d(s.azalea_id),1),t("td",null,d(s.tru_billing_id),1),t("td",null,[t("span",{onClick:c=>l.updateStatus(s,s.status===1?0:1),class:L(s.status==1?"status active":"status")},null,10,J)]),t("td",null,[t("ul",K,[t("li",null,[t("button",{class:"btn btn-link",onClick:c=>n.goToEdit(`/clinicians/edit/${s.id}`)},[X,p("Edit ")],8,W)]),t("li",null,[t("button",{class:"btn",onClick:c=>l.deleteRecord(s.id)},[Z,p("Delete ")],8,Y)])])])]))),128))])):(a(),i("tbody",tt,st))])]),t("div",nt,[t("div",ot,[t("button",{class:"btn btn-danger py-2",onClick:e[2]||(e[2]=(...s)=>l.deleteData&&l.deleteData(...s)),disabled:!o.selectedClinicians.length}," Delete Selected ",8,lt)]),t("div",at,[t("div",it,[ct,t("div",dt,[t("nav",rt,[t("ul",ut,[(a(!0),i(b,null,C(r.totalCount,s=>(a(),i("div",null,[t("li",ht,[h(g,{onClick:m=>l.changePage(s),class:"page-link",href:"#"},{default:P(()=>[p(d(s),1)]),_:2},1032,["onClick"])])]))),256))])])])])])])],64)}const mt=y(N,[["render",_t]]),gt={name:"Cinicians",components:{List:mt,Breadcrumb:A,RightSideButton:T,LeftSideHeader:$},data(){return{btnData:{title:"Add New",url:"/clinicians/add"},clinicians:[],searchQuery:"",totalPages:1,totalRecords:0,breadcrumbs:[{class:null,url:"/clinicians/list",name:"Our Clinicians"},{class:"active",url:"",name:"List"}]}},created(){this.getData()},methods:{getData(n=0){this.listLoading=!0,R(`?skip=${n}&search=${this.searchQuery}`).then(e=>{this.totalRecords=e.data.totalRecords,this.totalPages=e.data.totalRecords>10?Math.ceil(e.data.totalRecords/10):1,this.clinicians=e.data.data})},getSpeciality(n){B(n).then(e=>{e.success===!0&&console.log(e.data)})}}},ft={class:"section-content bg-white col p-4"},bt={class:"title-box"},pt={class:"row gy-3"},vt={class:"content-wrap pt-4"},Ct={class:"row mb-3 g-3 flex-sm-row-reverse align-items-center"},yt={class:"col-sm-auto"},kt={class:"data-search"},wt={class:"col"},Dt={class:"data-info"};function xt(n,e,r,_,o,l){const g=u("Breadcrumb"),s=u("LeftSideHeader"),m=u("RightSideButton"),c=u("List");return a(),i("section",ft,[h(g,{crumbs:o.breadcrumbs},null,8,["crumbs"]),t("div",bt,[t("div",pt,[h(s,{headerData:"All Clinicians"}),h(m,{btnData:o.btnData},null,8,["btnData"])])]),t("div",vt,[t("div",Ct,[t("div",yt,[t("div",kt,[k(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=f=>o.searchQuery=f),onInput:e[1]||(e[1]=(...f)=>l.getData&&l.getData(...f)),class:"form-control form-control-sm",placeholder:"Search by Name, Azalea/Tru Billing ID"},null,544),[[I,o.searchQuery]])])]),t("div",wt,[t("div",Dt," Showing "+d(o.clinicians.length)+" of "+d(o.totalRecords)+" Results ",1)])]),h(c,{clinicians:o.clinicians,totalCount:o.totalPages,onChangePage:l.getData,onGetRecord:l.getSpeciality},null,8,["clinicians","totalCount","onChangePage","onGetRecord"])])])}const At=y(gt,[["render",xt]]);export{At as default};
