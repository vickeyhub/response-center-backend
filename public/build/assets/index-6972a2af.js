import{u as C,c as x,d as S,a as y,f as R,b as N}from"./servicesProvided-9e6d6749.js";import{_ as p,r,o as c,f as d,e as h,w as P,b as e,n as w,t as u,l as k,F as g,j as b,k as $,v as B,h as f}from"./app-1983373d.js";import{B as D}from"./Breadcrumb-0722ea03.js";import{L as M}from"./LeftSideHeader-ba42ca70.js";const L={name:"ServicesProvidedAdd",props:{servicesProvidedName:{type:String,default:""},id:{type:Number,default:0}},data(){return{showMsg:!1,msg:null,msgType:"success",name:this.servicesProvidedName!=""?this.servicesProvidedName:null,schema:{name:"required|min:3|max:50|regex:^([^0-9]*)$"},msgClass:"text-success"}},methods:{submit(s,{resetForm:t}){this.id>0?C({name:this.name},this.id).then(a=>{this.handleResponse(a),a.success==!0&&(t(),this.name=" ",this.$emit("changePage",0))}).catch(a=>{this.handleCatch(a)}):x({name:this.name}).then(a=>{this.handleResponse(a),a.success==!0&&(t(),this.$emit("changePage",0))}).catch(a=>{this.handleCatch(a)}),t()}}},A={class:"form-box mb-3"},V={class:"row"},E={class:"col col-xl-6"},I={class:"form-field"},O={class:"error invalid-feedback"},T={class:"col-sm-auto"},U={class:"submit-wrap"},H={type:"submit",class:"btn btn-primary-light btn-medium min-small"};function j(s,t,a,m,i,o){const _=r("vee-field"),n=r("ErrorMessage"),v=r("vee-form");return c(),d("div",A,[h(v,{"validation-schema":i.schema,onSubmit:o.submit},{default:P(()=>[e("div",V,[e("div",E,[e("div",I,[h(_,{name:"name",type:"text",modelValue:i.name,"onUpdate:modelValue":t[0]||(t[0]=l=>i.name=l),class:"form-control",placeholder:"Enter Name",validateOnModelUpdate:!1,validateOnBlur:!1,validateOnChange:!1,validateOnInput:!1,validateOnMount:!1},null,8,["modelValue"]),e("div",O,[h(n,{class:"invalid-feedback",name:"name"})]),i.showMsg?(c(),d("p",{key:0,class:w(i.msgClass)},u(i.msg),3)):k("",!0)])]),e("div",T,[e("div",U,[e("button",H,u(a.id==0?"Add":"Update"),1)])])])]),_:1},8,["validation-schema","onSubmit"])])}const G=p(L,[["render",j]]),q={props:{servicesProvided:Array,totalCount:Number},data(){return{selectedServices:[]}},methods:{changePage(s){this.$emit("changePage",(s-1)*10)},editRecord(s){this.$emit("getRecord",s)},deleteRecord(s){this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(t=>{t.isConfirmed&&S(s).then(()=>{this.$emit("changePage",0),this.selectedServices=[]})})},deleteData(){const s=this.selectedServices;this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(t=>{t.isConfirmed&&y({"services-provided":s}).then(()=>{this.$emit("changePage",0),this.selectedServices=[]})})},updateStatus(s,t){s.status=t,C(s,s.id).then(()=>{this.$emit("changePage",0)}).catch(a=>{var m;(m=a.response)!=null&&m.data&&console.log(response.message)})}}},z={class:"table-responsive"},F={class:"table align-middle"},J=e("thead",null,[e("tr",null,[e("th",{width:"45px"}),e("th",null,"Name"),e("th",{width:"250"},"Status"),e("th",{width:"150"},"Action")])],-1),K=["value"],Q=["onClick"],W={class:"actions"},X=["onClick"],Y=e("i",{class:"icon-edit"},null,-1),Z=["onClick"],ee=e("i",{class:"icon-delete"},null,-1),te={class:"row gy-4 align-items-center"},se={class:"col-auto"},ie=["disabled"],ae={class:"col-auto ms-auto"},ne={class:"row align-items-center justify-content-end"},oe=e("div",{class:"col-auto"},"Page",-1),ce={class:"col ps-0"},de={class:"pagination-wrap"},le={class:"pagination flex-wrap pagination-sm mb-0"},re={class:"page-item"};function he(s,t,a,m,i,o){const _=r("btn");return c(),d(g,null,[e("div",z,[e("table",F,[J,e("tbody",null,[(c(!0),d(g,null,b(a.servicesProvided,(n,v)=>(c(),d("tr",null,[e("td",null,[$(e("input",{class:"form-check-input",value:n.id,"onUpdate:modelValue":t[0]||(t[0]=l=>i.selectedServices=l),type:"checkbox"},null,8,K),[[B,i.selectedServices]])]),e("td",null,u(n.name),1),e("td",null,[e("span",{onClick:l=>o.updateStatus(n,n.status===1?0:1),class:w(n.status==1?"status active":"status")},null,10,Q)]),e("td",null,[e("ul",W,[e("li",null,[e("button",{class:"btn btn-link",onClick:l=>o.editRecord(n.id)},[Y,f("Edit ")],8,X)]),e("li",null,[e("button",{class:"btn",onClick:l=>o.deleteRecord(n.id)},[ee,f("Delete ")],8,Z)])])])]))),256))])])]),e("div",te,[e("div",se,[e("button",{class:"btn btn-danger py-2",onClick:t[1]||(t[1]=(...n)=>o.deleteData&&o.deleteData(...n)),disabled:!i.selectedServices.length}," Delete Selected ",8,ie)]),e("div",ae,[e("div",ne,[oe,e("div",ce,[e("nav",de,[e("ul",le,[(c(!0),d(g,null,b(a.totalCount,n=>(c(),d("div",null,[e("li",re,[h(_,{onClick:v=>o.changePage(n),class:"page-link",href:"#"},{default:P(()=>[f(u(n),1)]),_:2},1032,["onClick"])])]))),256))])])])])])])],64)}const ue=p(q,[["render",he]]),me={name:"Specialities",components:{Add:G,List:ue,Breadcrumb:D,LeftSideHeader:M},data(){return{servicesProvided:[],totalPages:1,totalRecords:0,servicesProvidedName:"",serviceId:0,displayComponent:!0,breadcrumbs:[{class:null,url:"#",name:"Masters"},{class:"active",url:"",name:"Modality"}]}},created(){this.getData()},methods:{getData(s=0){this.servicesProvidedName="",this.serviceId=0,this.listLoading=!0,R("?skip="+s).then(t=>{this.totalRecords=t.data.totalRecords,this.totalPages=t.data.totalRecords>10?Math.ceil(t.data.totalRecords/10):1,this.servicesProvided=t.data.data})},get(s){this.displayComponent=!1,N(s).then(t=>{this.displayComponent=!0,t.success===!0&&(this.servicesProvidedName=t.data.name,this.serviceId=t.data.id)})}}},_e={class:"section-content bg-white col p-4"},ve={class:"title-box"},ge={class:"row gy-3"},fe={class:"content-wrap pt-4"},pe={key:0},be={class:"row mb-3 align-items-center"},Ce={class:"col"},Pe={class:"data-info"};function we(s,t,a,m,i,o){const _=r("Breadcrumb"),n=r("LeftSideHeader"),v=r("Add"),l=r("List");return c(),d("section",_e,[h(_,{crumbs:i.breadcrumbs},null,8,["crumbs"]),e("div",ve,[e("div",ge,[h(n,{headerData:"Modality"})])]),e("div",fe,[i.displayComponent?(c(),d("div",pe,[h(v,{servicesProvidedName:i.servicesProvidedName,id:i.serviceId,onChangePage:o.getData},null,8,["servicesProvidedName","id","onChangePage"])])):k("",!0),e("div",be,[e("div",Ce,[e("div",Pe," Showing "+u(i.servicesProvided.length)+" of "+u(i.totalRecords)+" Results ",1)])]),h(l,{servicesProvided:i.servicesProvided,totalCount:i.totalPages,onChangePage:o.getData,onGetRecord:o.get},null,8,["servicesProvided","totalCount","onChangePage","onGetRecord"])])])}const Re=p(me,[["render",we]]);export{Re as default};
