import{o as r,f as d,e as a,b as e,k as i,u as c,J as u,t as l,i as h}from"./app-1983373d.js";import{L as f}from"./List-dc917744.js";import{B as p}from"./Breadcrumb-0722ea03.js";import{L as m}from"./LeftSideHeader-ba42ca70.js";import{f as g}from"./appointment-a94c1285.js";import"./flatpickr-8c54c1e2.js";const A={class:"section-content bg-white col p-4"},v={class:"title-box"},b={class:"row gy-3"},y={class:"content-wrap pt-4"},_={class:"row mb-3 g-3 flex-sm-row-reverse align-items-center"},D={class:"col-sm-auto"},Q={class:"data-search"},C={class:"col-sm-auto"},w={class:""},L=h('<option value="1">Upcoming Appointments</option><option value="3">Today&#39;s Appointments</option><option value="2">Cancelled Appointments</option><option value="7">Completed Appointments</option><option value="6">All Appointments</option>',5),T=[L],S={class:"col"},V={class:"data-info"},B=e("div",null,[e("small")],-1),N={name:"AppointmentList",components:{Breadcrumb:p,LeftSideHeader:m},data(){return{todaysAppointments:0,upcomingAppointments:0,totalAppointments:0,cancelledAppointments:0,appointments:[],totalPages:1,filterQuery:"1",searchQuery:"",debounceTimer:null,breadcrumbs:[{class:null,url:"/confirmed-appointments",name:"Appointments"},{class:null,url:"/confirmed-appointments",name:"Confirmed Appointments"},{class:"active",url:"",name:"List"}]}},created(){this.getData()},watch:{filterQuery(n,t){n&&(this.searchQuery="")}},methods:{debouncedGetData(){this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.getData()},300)},getData(n=0){this.listLoading=!0,g(`?skip=${n}&filter=${this.filterQuery}&searchQuery=${this.searchQuery}`).then(t=>{this.totalAppointments=t.data.totalAppointments,this.totalPages=t.data.totalAppointments>10?Math.ceil(t.data.totalAppointments/10):1,this.appointments=t.data.appointments,this.todaysAppointments=t.data.todaysAppointments,this.upcomingAppointments=t.data.upcomingAppointments,this.cancelledAppointments=t.data.cancelledAppointments})}}},E=Object.assign(N,{setup(n){return(t,o)=>(r(),d("section",A,[a(p,{crumbs:t.breadcrumbs},null,8,["crumbs"]),e("div",v,[e("div",b,[a(m,{headerData:"Confirmed Appointments"})])]),e("div",y,[e("div",_,[e("div",D,[e("div",Q,[i(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>t.searchQuery=s),onInput:o[1]||(o[1]=(...s)=>t.debouncedGetData&&t.debouncedGetData(...s)),class:"form-control form-control-sm",placeholder:"Search by Name, Email or Ref No."},null,544),[[c,t.searchQuery]])])]),e("div",C,[e("div",w,[i(e("select",{"onUpdate:modelValue":o[2]||(o[2]=s=>t.filterQuery=s),onChange:o[3]||(o[3]=s=>t.getData()),name:"",id:"",class:"form-select form-control"},T,544),[[u,t.filterQuery]])])]),e("div",S,[e("div",V," Showing "+l(t.appointments.length)+" of "+l(t.totalAppointments)+" Results ",1),B])]),a(f,{appointments:t.appointments,totalCount:t.totalPages,type:"confirmed",onChangePage:t.getData},null,8,["appointments","totalCount","onChangePage"])])]))}});export{E as default};
