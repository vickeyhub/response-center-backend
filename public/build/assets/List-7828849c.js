import{_ as b,E as C,D as y,G as x,r as u,o as i,f as l,e as _,w as k,b as e,t as p,H as w,I as B,F as g,j as v,k as $,v as N,n as P,h as f}from"./app-1983373d.js";const S={name:"AddBlogCategories",props:{blogCategoryName:{type:String,default:""},type:{type:String,default:""},id:{type:Number,default:0}},data(){return{name:this.blogCategoryName!=""?this.blogCategoryName:null,schema:{name:"required|min:3|max:50|regex:^([^0-9]*)$"}}},methods:{submit(n,{resetForm:s}){this.id>0?C({name:this.name},this.id).then(t=>{this.handleResponse(t),t.success==!0&&(s(),y(()=>{this.name=" "}),this.$emit("changePage",0))}).catch(t=>{this.handleCatch(t)}):x({name:this.name,type:this.type}).then(t=>{this.handleResponse(t),t.success==!0&&(s(),this.$emit("changePage",0))}).catch(t=>{this.handleCatch(t)})}}},A={class:"form-box mb-3"},D={class:"row"},R={class:"col col-xl-6"},V={class:"form-field"},E={class:"error invalid-feedback"},M={class:"col-sm-auto"},O={class:"submit-wrap"},T={type:"submit",class:"btn btn-primary-light btn-medium min-small"};function U(n,s,t,r,c,o){const m=u("vee-field"),a=u("ErrorMessage"),h=u("vee-form");return i(),l("div",A,[_(h,{"validation-schema":c.schema,onSubmit:o.submit},{default:k(()=>[e("div",D,[e("div",R,[e("div",V,[_(m,{name:"name",type:"text",modelValue:c.name,"onUpdate:modelValue":s[0]||(s[0]=d=>c.name=d),validateOnModelUpdate:!1,validateOnBlur:!1,validateOnChange:!1,validateOnInput:!1,validateOnMount:!1,class:"form-control",placeholder:"Enter Name"},null,8,["modelValue"]),e("div",E,[_(a,{class:"invalid-feedback",name:"name"})])])]),e("div",M,[e("div",O,[e("button",T,p(t.id==0?"Add":"Update"),1)])])])]),_:1},8,["validation-schema","onSubmit"])])}const ue=b(S,[["render",U]]),L={props:{blogCategories:Array,totalCount:Number},data(){return{selectedBlogCategories:[]}},methods:{changePage(n){this.$emit("changePage",(n-1)*10)},editRecord(n){this.$emit("getRecord",n)},deleteRecord(n){this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(s=>{s.isConfirmed&&w(n).then(()=>{this.$emit("changePage",0)})})},deleteData(){const n=this.selectedBlogCategories;this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(s=>{s.isConfirmed&&B({categories:n}).then(()=>{this.$emit("changePage",0),this.selectedBlogCategories=[]})})},updateStatus(n,s){n.status=s,C(n,n.id).then(()=>{this.$emit("changePage",0)}).catch(t=>{var r;(r=t.response)!=null&&r.data&&console.log(response.message)})}}},j={class:"table-responsive"},I={class:"table align-middle"},q=e("thead",null,[e("tr",null,[e("th",{width:"45px"}),e("th",null,"Name"),e("th",{width:"250"},"Status"),e("th",{width:"150"},"Action")])],-1),z={key:0},F=["value"],G=["onClick"],H={class:"actions"},J=["onClick"],K=e("i",{class:"icon-edit"},null,-1),Q=["onClick"],W=e("i",{class:"icon-delete"},null,-1),X={key:1},Y=e("tr",null,[e("td",{colspan:"4",class:"text-center"},"No record found")],-1),Z=[Y],ee={class:"row gy-4 align-items-center"},te={class:"col-auto"},se=["disabled"],ne={class:"col-auto ms-auto"},ae={class:"row align-items-center justify-content-end"},oe=e("div",{class:"col-auto"},"Page",-1),ie={class:"col ps-0"},le={class:"pagination-wrap"},ce={class:"pagination flex-wrap pagination-sm mb-0"},de={class:"page-item"};function re(n,s,t,r,c,o){const m=u("btn");return i(),l(g,null,[e("div",j,[e("table",I,[q,t.blogCategories.length?(i(),l("tbody",z,[(i(!0),l(g,null,v(t.blogCategories,(a,h)=>(i(),l("tr",{key:h},[e("td",null,[$(e("input",{class:"form-check-input",value:a.id,"onUpdate:modelValue":s[0]||(s[0]=d=>c.selectedBlogCategories=d),type:"checkbox"},null,8,F),[[N,c.selectedBlogCategories]])]),e("td",null,p(a.name),1),e("td",null,[e("span",{onClick:d=>o.updateStatus(a,a.status===1?0:1),class:P(a.status==1?"status active":"status")},null,10,G)]),e("td",null,[e("ul",H,[e("li",null,[e("button",{class:"btn btn-link",onClick:d=>o.editRecord(a.id)},[K,f("Edit ")],8,J)]),e("li",null,[e("button",{class:"btn",onClick:d=>o.deleteRecord(a.id)},[W,f("Delete ")],8,Q)])])])]))),128))])):(i(),l("tbody",X,Z))])]),e("div",ee,[e("div",te,[e("button",{class:"btn btn-danger py-2",onClick:s[1]||(s[1]=(...a)=>o.deleteData&&o.deleteData(...a)),disabled:!c.selectedBlogCategories.length}," Delete Selected ",8,se)]),e("div",ne,[e("div",ae,[oe,e("div",ie,[e("nav",le,[e("ul",ce,[(i(!0),l(g,null,v(t.totalCount,a=>(i(),l("div",null,[e("li",de,[_(m,{onClick:h=>o.changePage(a),class:"page-link",href:"#"},{default:k(()=>[f(p(a),1)]),_:2},1032,["onClick"])])]))),256))])])])])])])],64)}const _e=b(L,[["render",re]]);export{ue as A,_e as L};
