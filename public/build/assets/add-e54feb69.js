import{f as I,c as V}from"./page-cd97be79.js";import{_ as y,r as m,o as p,f as g,e as a,w as C,b as e,n as v,t as f,l as b,y as S,z as k,h as l}from"./app-1983373d.js";/* empty css                                                         */import{B as E}from"./Breadcrumb-0722ea03.js";import{L as F}from"./LeftSideHeader-ba42ca70.js";const x={data(){return{primaryImgName:null,primaryImgFile:"",primaryDragging:!1,secondaryImgName:null,secondaryImgFile:"",secondaryDragging:!1,formData:{sub_header:null,content:"",primary_image:null,secondary_image:null,first_counter_label:null,first_counter_value:null,second_counter_label:null,second_counter_value:null,third_counter_label:null,third_counter_value:null},schema:{sub_header:"required|min:3|max:300",third_counter_label:"required",third_counter_label:"required",second_counter_value:"required",second_counter_label:"required",first_counter_label:"required",first_counter_value:"required"},contentError:null,primaryImgError:null,secondaryImgError:null,editorConfig:{}}},mounted(){this.getData()},methods:{getData(){I("our-story").then(r=>{r.success===!0&&r.data!=null&&(this.formData=r.data)})},submitData(r,{resetForm:o}){if(this.contentError=null,this.primaryImgError=null,this.secondaryImgError=null,this.formData.content=="")this.contentError="This field is required.";else if(this.formData.content.length<50)this.contentError="Minimum 50 characters are allowed.";else{let i=new FormData;i.append("primary_image",this.primaryImgFile),i.append("secondary_image",this.secondaryImgFile),i.append("sub_header",this.formData.sub_header),i.append("content",this.formData.content),i.append("page_name","our-story"),i.append("first_counter_label",this.formData.first_counter_label),i.append("first_counter_value",this.formData.first_counter_value),i.append("second_counter_label",this.formData.second_counter_label),i.append("second_counter_value",this.formData.second_counter_value),i.append("third_counter_label",this.formData.third_counter_label),i.append("third_counter_value",this.formData.third_counter_value),V(i).then(_=>{this.handleResponse(_)}).catch(_=>{this.handleCatch(_)})}},onPrimaryImgChange(r){this.imgError=null;var o=r.target.files||r.dataTransfer.files;if(!o.length){this.primaryDragging=!1;return}this.createPrimaryImg(o[0])},createPrimaryImg(r){if(!r.type.match("jpg.*")&&!r.type.match("jpeg.*")&&!r.type.match("png.*")){this.handleResponse({message:"Format accepted: jpg, jpeg, png",success:!1}),this.primaryDragging=!1;return}if(r.size>5e6){this.handleResponse({message:"please check file size no over 5 MB.",success:!1}),this.primaryDragging=!1;return}this.primaryImgName=r.name,this.primaryImgFile=r,this.primaryDragging=!1},onSecondaryImgChange(r){this.imgError=null;var o=r.target.files||r.dataTransfer.files;if(!o.length){this.secondaryDragging=!1;return}this.createSecondaryImg(o[0])},createSecondaryImg(r){if(!r.type.match("jpg.*")&&!r.type.match("jpeg.*")&&!r.type.match("png.*")){this.handleResponse({message:"Format accepted: jpg, jpeg, png",success:!1}),this.secondaryDragging=!1;return}if(r.size>5e6){this.handleResponse({message:"please check file size no over 5 MB.",success:!1}),this.secondaryDragging=!1;return}this.secondaryImgName=r.name,this.secondaryImgFile=r,this.secondaryDragging=!1},onFileChange(r){var o=r.target.files||r.dataTransfer.files;if(!o.length){this.dragging=!1;return}this.createFile(o[0])}},computed:{}},n=r=>(S("data-v-7972de15"),r=r(),k(),r),w={class:"form-box"},j={class:"row"},N=n(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"Basic Details")],-1)),B={class:"col-md-12"},U={class:"form-field"},L=n(()=>e("label",{for:""},[l("Sub Heading"),e("sup",null,"*")],-1)),T={class:"error invalid-feedback"},q={class:"col-md-6"},P={class:"form-field"},Z=n(()=>e("label",{for:""},[l("First Counter Label"),e("sup",null,"*")],-1)),z={class:"error invalid-feedback"},H={class:"col-md-6"},M={class:"form-field"},A=n(()=>e("label",{for:""},[l("First Counter Value"),e("sup",null,"*")],-1)),R={class:"error invalid-feedback"},O={class:"col-md-6"},G={class:"form-field"},J=n(()=>e("label",{for:""},[l("Second Counter Label"),e("sup",null,"*")],-1)),K={class:"error invalid-feedback"},Q={class:"col-md-6"},W={class:"form-field"},X=n(()=>e("label",{for:""},[l("Second Counter Value"),e("sup",null,"*")],-1)),Y={class:"error invalid-feedback"},$={class:"col-md-6"},ee={class:"form-field"},oe=n(()=>e("label",{for:""},[l("Third Counter Label"),e("sup",null,"*")],-1)),re={class:"error invalid-feedback"},se={class:"col-md-6"},te={class:"form-field"},ae=n(()=>e("label",{for:""},[l("Third Counter Value"),e("sup",null,"*")],-1)),ne={class:"error invalid-feedback"},le={class:"col-12"},ie={class:"form-field"},de=n(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},"Upload Primary Image")]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),l(" Format accepted: jpg, jpeg, png ")])])],-1)),ce={class:"uploader position-relative"},ue={class:"uploader-info"},me=n(()=>e("i",{class:"icon-upload"},null,-1)),_e=n(()=>e("p",{class:"dropZone-title"},[l(" Drag & drop or "),e("strong",null,"browse"),l(" your file. ")],-1)),fe={key:0},pe={class:"col-12"},ge={class:"form-field mb-2"},he=n(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},[l("Upload Secondary Image"),e("sup",null,"*")])]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),l(" Format accepted: jpg, jpeg, png ")])])],-1)),ve={class:"uploader position-relative"},be={class:"uploader-info"},ye=n(()=>e("i",{class:"icon-upload"},null,-1)),De=n(()=>e("p",{class:"dropZone-title"},[l(" Drag & drop or "),e("strong",null,"browse"),l(" your file. ")],-1)),Ie={key:0},Ve={class:"error invalid-feedback"},Ce={class:"col-12"},Se={class:"form-field"},ke=n(()=>e("label",{for:""},[l("Content"),e("sup",null,"*")],-1)),Ee={class:"error invalid-feedback"},Fe=n(()=>e("div",{class:"submit-wrap pt-3"},[e("button",{type:"submit",class:"btn btn-secondary"},"SUBMIT")],-1));function xe(r,o,i,_,s,d){const c=m("vee-field"),u=m("ErrorMessage"),h=m("ckeditor"),D=m("vee-form");return p(),g("div",w,[a(D,{"validation-schema":s.schema,onSubmit:d.submitData,enctype:"multipart/form-data"},{default:C(()=>[e("div",j,[N,e("div",B,[e("div",U,[L,a(c,{name:"sub_header",type:"text",modelValue:s.formData.sub_header,"onUpdate:modelValue":o[0]||(o[0]=t=>s.formData.sub_header=t),class:"form-control",placeholder:"Enter Sub Heading"},null,8,["modelValue"]),e("div",T,[a(u,{class:"invalid-feedback",name:"sub_header"})])])]),e("div",q,[e("div",P,[Z,a(c,{name:"first_counter_label",type:"text",modelValue:s.formData.first_counter_label,"onUpdate:modelValue":o[1]||(o[1]=t=>s.formData.first_counter_label=t),class:"form-control",placeholder:"Enter First Counter Label"},null,8,["modelValue"]),e("div",z,[a(u,{class:"invalid-feedback",name:"first_counter_label"})])])]),e("div",H,[e("div",M,[A,a(c,{name:"first_counter_value",type:"text",modelValue:s.formData.first_counter_value,"onUpdate:modelValue":o[2]||(o[2]=t=>s.formData.first_counter_value=t),class:"form-control",placeholder:"Enter First Counter Value"},null,8,["modelValue"]),e("div",R,[a(u,{class:"invalid-feedback",name:"first_counter_value"})])])]),e("div",O,[e("div",G,[J,a(c,{name:"second_counter_label",type:"text",modelValue:s.formData.second_counter_label,"onUpdate:modelValue":o[3]||(o[3]=t=>s.formData.second_counter_label=t),class:"form-control",placeholder:"Enter Second Counter Label"},null,8,["modelValue"]),e("div",K,[a(u,{class:"invalid-feedback",name:"second_counter_label"})])])]),e("div",Q,[e("div",W,[X,a(c,{name:"second_counter_value",type:"text",modelValue:s.formData.second_counter_value,"onUpdate:modelValue":o[4]||(o[4]=t=>s.formData.second_counter_value=t),class:"form-control",placeholder:"Enter Second Counter Value"},null,8,["modelValue"]),e("div",Y,[a(u,{class:"invalid-feedback",name:"second_counter_value"})])])]),e("div",$,[e("div",ee,[oe,a(c,{name:"third_counter_label",type:"text",modelValue:s.formData.third_counter_label,"onUpdate:modelValue":o[5]||(o[5]=t=>s.formData.third_counter_label=t),class:"form-control",placeholder:"Enter Third Counter Label"},null,8,["modelValue"]),e("div",re,[a(u,{class:"invalid-feedback",name:"third_counter_label"})])])]),e("div",se,[e("div",te,[ae,a(c,{name:"third_counter_value",type:"text",modelValue:s.formData.third_counter_value,"onUpdate:modelValue":o[6]||(o[6]=t=>s.formData.third_counter_value=t),class:"form-control",placeholder:"Enter Third Counter Value"},null,8,["modelValue"]),e("div",ne,[a(u,{class:"invalid-feedback",name:"third_counter_value"})])])]),e("div",le,[e("div",ie,[de,e("div",ce,[e("div",ue,[e("div",{class:v(["dropZone",s.primaryDragging?"dropZone-over":""]),onDragenter:o[9]||(o[9]=t=>s.primaryDragging=!0),onDragleave:o[10]||(o[10]=t=>s.primaryDragging=!1)},[e("div",{class:"dropZone-info",onDrag:o[7]||(o[7]=(...t)=>d.onPrimaryImgChange&&d.onPrimaryImgChange(...t))},[me,_e,s.primaryImgName?(p(),g("small",fe,f(s.primaryImgName),1)):b("",!0)],32),e("input",{type:"file",onChange:o[8]||(o[8]=(...t)=>d.onPrimaryImgChange&&d.onPrimaryImgChange(...t))},null,32)],34)])])])]),e("div",pe,[e("div",ge,[he,e("div",ve,[e("div",be,[e("div",{class:v(["dropZone",s.secondaryDragging?"dropZone-over":""]),onDragenter:o[13]||(o[13]=t=>s.secondaryDragging=!0),onDragleave:o[14]||(o[14]=t=>s.secondaryDragging=!1)},[e("div",{class:"dropZone-info",onDrag:o[11]||(o[11]=(...t)=>d.onSecondaryImgChange&&d.onSecondaryImgChange(...t))},[ye,De,s.secondaryImgName?(p(),g("small",Ie,f(s.secondaryImgName),1)):b("",!0)],32),e("input",{type:"file",accept:"image/*",onChange:o[12]||(o[12]=(...t)=>d.onSecondaryImgChange&&d.onSecondaryImgChange(...t))},null,32)],34)])])]),e("div",Ve,f(r.imgError),1)]),e("div",Ce,[e("div",Se,[ke,a(h,{editor:r.DecoupledEditor,modelValue:s.formData.content,"onUpdate:modelValue":o[15]||(o[15]=t=>s.formData.content=t),config:s.editorConfig},null,8,["editor","modelValue","config"]),e("div",Ee,f(s.contentError),1)])])]),Fe]),_:1},8,["validation-schema","onSubmit"])])}const we=y(x,[["render",xe],["__scopeId","data-v-7972de15"]]),je={name:"AddOurStory",components:{Add:we,Breadcrumb:E,LeftSideHeader:F},data(){return{breadcrumbs:[{class:"active",url:"",name:"Our Story"}]}}},Ne={class:"section-content bg-white col p-4"},Be={class:"title-box"},Ue={class:"row gy-3"},Le={class:"content-wrap pt-4"};function Te(r,o,i,_,s,d){const c=m("Breadcrumb"),u=m("LeftSideHeader"),h=m("Add",!0);return p(),g("section",Ne,[a(c,{crumbs:s.breadcrumbs},null,8,["crumbs"]),e("div",Be,[e("div",Ue,[a(u,{headerData:"Our Story"})])]),e("div",Le,[a(h)])])}const Me=y(je,[["render",Te]]);export{Me as default};
