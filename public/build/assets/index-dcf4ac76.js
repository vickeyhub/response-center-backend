import{d as w,a as k,u as x,f as R,b as q}from"./faq-4c155484.js";import{_ as C,r,o as l,f as i,b as t,F as f,j as v,k as y,v as B,t as m,n as D,h as p,e as u,w as S,u as L}from"./app-1983373d.js";import{B as P}from"./Breadcrumb-0722ea03.js";import{R as $}from"./RightSideButton-c34e14fb.js";import{L as F}from"./LeftSideHeader-ba42ca70.js";const A={props:{faqs:Array,totalCount:Number},data(){return{selectedFaqs:[]}},methods:{changePage(s){this.$emit("changePage",(s-1)*10)},editRecord(s){this.$emit("getRecord",s)},deleteRecord(s){this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&w(s).then(()=>{this.$emit("changePage",0)})})},deleteData(){const s=this.selectedFaqs;this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&k({news_ids:s}).then(()=>{this.$emit("changePage",0),this.selectedFaqs=[]})})},updateStatus(s,e){s.status=e,x(s,s.id).then(()=>{this.$emit("changePage",0)}).catch(c=>{var h;(h=c.response)!=null&&h.data&&console.log(response.message)})}}},Q={class:"table-responsive"},N={class:"table align-middle"},T=t("thead",null,[t("tr",null,[t("th",{width:"45px"}),t("th",null,"Question"),t("th",{width:"250"},"Status"),t("th",{width:"150"},"Action")])],-1),V={key:0},M=["value"],E={class:"row flex-nowrap align-items-center"},H={class:"col"},j={class:"user-info"},G=["onClick"],U={class:"actions"},z=["onClick"],I=t("i",{class:"icon-edit"},null,-1),J=["onClick"],K=t("i",{class:"icon-delete"},null,-1),O={key:1},W=t("tr",null,[t("td",{colspan:"6",class:"text-center"},"No record found")],-1),X=[W],Y={class:"row gy-4 align-items-center"},Z={class:"col-auto"},tt=["disabled"],et={class:"col-auto ms-auto"},st={class:"row align-items-center justify-content-end"},ot=t("div",{class:"col-auto"},"Page",-1),nt={class:"col ps-0"},at={class:"pagination-wrap"},lt={class:"pagination flex-wrap pagination-sm mb-0"},it={class:"page-item"};function ct(s,e,c,h,n,a){const g=r("btn");return l(),i(f,null,[t("div",Q,[t("table",N,[T,c.faqs.length?(l(),i("tbody",V,[(l(!0),i(f,null,v(c.faqs,(o,_)=>(l(),i("tr",{key:_},[t("td",null,[y(t("input",{class:"form-check-input",value:o.id,"onUpdate:modelValue":e[0]||(e[0]=d=>n.selectedFaqs=d),type:"checkbox"},null,8,M),[[B,n.selectedFaqs]])]),t("td",null,[t("div",E,[t("div",H,[t("div",j,m(o.question),1)])])]),t("td",null,[t("span",{onClick:d=>a.updateStatus(o,o.status===1?0:1),class:D(o.status==1?"status active":"status")},null,10,G)]),t("td",null,[t("ul",U,[t("li",null,[t("button",{class:"btn btn-link",onClick:d=>s.goToEdit(`/faqs/edit/${o.id}`)},[I,p("Edit ")],8,z)]),t("li",null,[t("button",{class:"btn",onClick:d=>a.deleteRecord(o.id)},[K,p("Delete ")],8,J)])])])]))),128))])):(l(),i("tbody",O,X))])]),t("div",Y,[t("div",Z,[t("button",{class:"btn btn-danger py-2",onClick:e[1]||(e[1]=(...o)=>a.deleteData&&a.deleteData(...o)),disabled:!n.selectedFaqs.length}," Delete Selected ",8,tt)]),t("div",et,[t("div",st,[ot,t("div",nt,[t("nav",at,[t("ul",lt,[(l(!0),i(f,null,v(c.totalCount,o=>(l(),i("div",null,[t("li",it,[u(g,{onClick:_=>a.changePage(o),class:"page-link",href:"#"},{default:S(()=>[p(m(o),1)]),_:2},1032,["onClick"])])]))),256))])])])])])])],64)}const dt=C(A,[["render",ct]]),rt={name:"FaqList",components:{List:dt,Breadcrumb:P,RightSideButton:$,LeftSideHeader:F},data(){return{btnData:{title:"Add New",url:"/faqs/add"},faqs:[],searchQuery:"",totalPages:1,totalRecords:0,displayComponent:!0,breadcrumbs:[{class:null,url:"/faqs/list",name:"Faq"},{class:"active",url:"",name:"List"}]}},created(){this.getData()},methods:{getData(s=0){this.listLoading=!0,R(`?skip=${s}&search=${this.searchQuery}`).then(e=>{this.totalRecords=e.data.totalRecords,this.totalPages=e.data.totalRecords>10?Math.ceil(e.data.totalRecords/10):1,this.faqs=e.data.data})},get(s){this.displayComponent=!1,q(s).then(e=>{this.displayComponent=!0,e.success})}}},ut={class:"section-content bg-white col p-4"},ht={class:"title-box"},_t={class:"row gy-3"},mt={class:"content-wrap pt-4"},gt={class:"row mb-3 g-3 flex-sm-row-reverse align-items-center"},ft={class:"col-sm-auto"},pt={class:"data-search"},bt={class:"col"},vt={class:"data-info"};function Ct(s,e,c,h,n,a){const g=r("Breadcrumb"),o=r("LeftSideHeader"),_=r("RightSideButton"),d=r("List");return l(),i("section",ut,[u(g,{crumbs:n.breadcrumbs},null,8,["crumbs"]),t("div",ht,[t("div",_t,[u(o,{headerData:"All FAQ"}),u(_,{btnData:n.btnData},null,8,["btnData"])])]),t("div",mt,[t("div",gt,[t("div",ft,[t("div",pt,[y(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=b=>n.searchQuery=b),onInput:e[1]||(e[1]=b=>a.getData()),class:"form-control form-control-sm",placeholder:"Search by Question"},null,544),[[L,n.searchQuery]])])]),t("div",bt,[t("div",vt," Showing "+m(n.faqs.length)+" of "+m(n.totalRecords)+" Results ",1)])]),u(d,{faqs:n.faqs,totalCount:n.totalPages,onChangePage:a.getData,onGetRecord:a.get},null,8,["faqs","totalCount","onChangePage","onGetRecord"])])])}const qt=C(rt,[["render",Ct]]);export{qt as default};
