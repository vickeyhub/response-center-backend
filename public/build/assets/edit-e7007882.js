import{b as y,g as V}from"./team-5865aea5.js";import{_ as b,r as d,o as p,f as _,l as g,b as e,e as i,w,n as E,t as v,F as k,y as T,z as x,h as m}from"./app-1983373d.js";import{B}from"./Breadcrumb-0722ea03.js";import{R as C}from"./RightSideButton-c34e14fb.js";import{L as S}from"./LeftSideHeader-ba42ca70.js";const M={data(){return{displayOverlay:!0,imageName:"",dragging:!1,image:null,teamData:{name:null,image:null,description:"",email:null,designation:null,meta_title:null,meta_description:null,meta_keywords:null},tempTeamData:{},schema:{name:"required|min:1|max:300|regex:^([^0-9]*)$",email:"required|email",designation:"required"},descError:null}},async mounted(){await this.getBlog();let a=this;new Promise(function(t,f){setTimeout(()=>{a.teamData=a.tempTeamData,a.displayOverlay=!1,t()},2500)})},methods:{async getBlog(){const a=`${this.$route.params.teamId}`;y(a).then(t=>{t.success===!0&&(this.tempTeamData=t.data,this.imageName=this.tempTeamData.image?this.tempTeamData.image.slice(this.tempTeamData.image.indexOf("uploads/")+8):null)})},updateTeam(){if(this.descError=null,this.teamData.description=="")this.descError="This field is required.";else if(this.teamData.description.length<50)this.descError="Minimum 50 characters are allowed.";else{let a=new FormData;a.append("image",this.file),a.append("name",this.teamData.name),a.append("email",this.teamData.email),a.append("designation",this.teamData.designation),a.append("description",this.teamData.description),a.append("meta_title",this.teamData.meta_title),a.append("meta_description",this.teamData.meta_description),a.append("meta_keywords",this.teamData.meta_keywords),V(a,this.teamData.id).then(t=>{this.handleResponse(t),t.success==!0&&this.$router.push({path:"/team-members"})}).catch(t=>{this.handleCatch(t)})}},onChange(a){var t=a.target.files||a.dataTransfer.files;if(!t.length){this.dragging=!1;return}this.createFile(t[0])},createFile(a){if(!a.type.match("jpg.*")&&!a.type.match("jpeg.*")&&!a.type.match("png.*")){this.handleResponse({message:"Format accepted: jpg, jpeg, png",success:!1}),this.dragging=!1;return}if(a.size>5e6){this.handleResponse({message:"please check file size no over 5 MB.",success:!1}),this.dragging=!1;return}this.imageName=a.name,this.file=a,this.dragging=!1},onChangeOfTitle(){this.teamData.meta_title=this.teamData.name,this.teamData.meta_description=this.teamData.name,this.teamData.meta_keywords=this.teamData.name}}},n=a=>(T("data-v-b9be1e7f"),a=a(),x(),a),N={key:0,class:"overlay"},I=n(()=>e("div",{class:"overlay__inner"},[e("div",{class:"overlay__content"},[e("span",{class:"spinner"})])],-1)),U=[I],F={class:"form-box"},j={class:"row"},O=n(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"Basic Details")],-1)),R={class:"col-md-12"},z={class:"form-field"},H=n(()=>e("label",{for:""},[m("Name"),e("sup",null,"*")],-1)),q={class:"error invalid-feedback"},L={class:"col-md-6"},Z={class:"form-field"},K=n(()=>e("label",{for:""},[m("Designation"),e("sup",null,"*")],-1)),P={class:"error invalid-feedback"},A={class:"col-md-6"},G={class:"form-field"},J=n(()=>e("label",{for:""},[m("Email"),e("sup",null,"*")],-1)),Q={class:"error invalid-feedback"},W={class:"col-12"},X={class:"form-field"},Y=n(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},"Upload Image")]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),m(" Format accepted: jpg, jpeg, png ")])])],-1)),$={class:"uploader position-relative"},ee={class:"uploader-info"},te=n(()=>e("i",{class:"icon-upload"},null,-1)),ae=n(()=>e("p",{class:"dropZone-title"},[m(" Drag & drop or "),e("strong",null,"browse"),m(" your file. "),e("br"),e("span",null,"Image size should be 500px / 550px.")],-1)),se={key:0},oe={class:"col-12"},ie={class:"form-field"},ne=n(()=>e("label",{for:""},[m("Bio"),e("sup",null,"*")],-1)),le={class:"error invalid-feedback"},de={class:"row"},re=n(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"SEO Fields")],-1)),me={class:"col-md-4"},ce={class:"form-field"},pe=n(()=>e("label",{for:""},"Meta Title",-1)),_e={class:"col-md-4"},ue={class:"form-field"},he=n(()=>e("label",{for:""},"Meta Description",-1)),fe={class:"col-md-4"},ge={class:"form-field"},ve=n(()=>e("label",{for:""},"Meta Keywords",-1)),be=n(()=>e("div",{class:"submit-wrap pt-3"},[e("button",{type:"submit",class:"btn btn-secondary"},"SUBMIT")],-1));function De(a,t,f,D,s,r){const l=d("vee-field"),c=d("ErrorMessage"),u=d("ckeditor"),h=d("vee-form");return p(),_(k,null,[s.displayOverlay?(p(),_("div",N,U)):g("",!0),e("div",F,[i(h,{"validation-schema":s.schema,onSubmit:r.updateTeam,enctype:"multipart/form-data"},{default:w(()=>[e("div",j,[O,e("div",R,[e("div",z,[H,i(l,{name:"name",type:"text",onInput:t[0]||(t[0]=o=>r.onChangeOfTitle()),modelValue:s.teamData.name,"onUpdate:modelValue":t[1]||(t[1]=o=>s.teamData.name=o),class:"form-control",placeholder:"Enter Name"},null,8,["modelValue"]),e("div",q,[i(c,{class:"invalid-feedback",name:"name"})])])]),e("div",L,[e("div",Z,[K,i(l,{name:"designation",type:"text",modelValue:s.teamData.designation,"onUpdate:modelValue":t[2]||(t[2]=o=>s.teamData.designation=o),class:"form-control",placeholder:"Enter Designation"},null,8,["modelValue"]),e("div",P,[i(c,{class:"invalid-feedback",name:"designation"})])])]),e("div",A,[e("div",G,[J,i(l,{name:"email",type:"text",modelValue:s.teamData.email,"onUpdate:modelValue":t[3]||(t[3]=o=>s.teamData.email=o),class:"form-control",placeholder:"Enter Email"},null,8,["modelValue"]),e("div",Q,[i(c,{class:"invalid-feedback",name:"email"})])])]),e("div",W,[e("div",X,[Y,e("div",$,[e("div",ee,[e("div",{class:E(["dropZone",s.dragging?"dropZone-over":""]),onDragenter:t[6]||(t[6]=o=>s.dragging=!0),onDragleave:t[7]||(t[7]=o=>s.dragging=!1)},[e("div",{class:"dropZone-info",onDrag:t[4]||(t[4]=(...o)=>r.onChange&&r.onChange(...o))},[te,ae,s.imageName?(p(),_("small",se,v(s.imageName),1)):g("",!0)],32),e("input",{type:"file",onChange:t[5]||(t[5]=(...o)=>r.onChange&&r.onChange(...o))},null,32)],34)])])])]),e("div",oe,[e("div",ie,[ne,i(u,{editor:a.editor,modelValue:s.teamData.description,"onUpdate:modelValue":t[8]||(t[8]=o=>s.teamData.description=o),config:a.editorConfig},null,8,["editor","modelValue","config"]),e("div",le,v(s.descError),1)])])]),e("div",de,[re,e("div",me,[e("div",ce,[pe,i(l,{name:"meta_title",type:"text",modelValue:s.teamData.meta_title,"onUpdate:modelValue":t[9]||(t[9]=o=>s.teamData.meta_title=o),class:"form-control",placeholder:"Enter Meta Title"},null,8,["modelValue"])])]),e("div",_e,[e("div",ue,[he,i(l,{name:"meta_description",type:"text",modelValue:s.teamData.meta_description,"onUpdate:modelValue":t[10]||(t[10]=o=>s.teamData.meta_description=o),class:"form-control",placeholder:"Enter Meta Description"},null,8,["modelValue"])])]),e("div",fe,[e("div",ge,[ve,i(l,{name:"meta_keywords",type:"text",modelValue:s.teamData.meta_keywords,"onUpdate:modelValue":t[11]||(t[11]=o=>s.teamData.meta_keywords=o),class:"form-control",placeholder:"Enter Meta Keywords"},null,8,["modelValue"])])])]),be]),_:1},8,["validation-schema","onSubmit"])])],64)}const ye=b(M,[["render",De],["__scopeId","data-v-b9be1e7f"]]),Ve={name:"EditTeam",components:{Edit:ye,Breadcrumb:B,RightSideButton:C,LeftSideHeader:S},data(){return{breadcrumbs:[{class:null,url:"/team-members",name:"Team"},{class:"active",url:"",name:"Edit"}],btnData:{title:"Team Members",url:"/team-members"}}}},we={class:"section-content bg-white col p-4"},Ee={class:"title-box"},ke={class:"row gy-3"},Te={class:"content-wrap pt-4"};function xe(a,t,f,D,s,r){const l=d("Breadcrumb"),c=d("LeftSideHeader"),u=d("RightSideButton"),h=d("Edit",!0);return p(),_("section",we,[i(l,{crumbs:s.breadcrumbs},null,8,["crumbs"]),e("div",Ee,[e("div",ke,[i(c,{headerData:"Edit Team"}),i(u,{btnData:s.btnData},null,8,["btnData"])])]),e("div",Te,[i(h)])])}const Ie=b(Ve,[["render",xe]]);export{Ie as default};
