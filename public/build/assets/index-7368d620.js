import{c as v,d as R,a as D,u as B,f as P,b as S}from"./team-5865aea5.js";import{n as C}from"./no-img-df4ddc69.js";import{_ as y,r as u,o as i,f as l,b as t,F as b,j as k,k as x,v as T,t as _,n as A,l as w,h as f,e as h,w as L,u as $}from"./app-1983373d.js";import{B as I}from"./Breadcrumb-0722ea03.js";import{R as N}from"./RightSideButton-c34e14fb.js";import{L as V}from"./LeftSideHeader-ba42ca70.js";const M={props:{teams:Array,totalCount:Number},data(){return{selectedTeams:[],noImg:C}},methods:{noImage(s){s.target.src=C},up(s){v({order_number:s,direction:"up"}).then(d=>{this.$emit("changePage",0)})},down(s){v({order_number:s,direction:"down"}).then(d=>{this.$emit("changePage",0)})},changePage(s){this.$emit("changePage",(s-1)*10)},editRecord(s){this.$emit("getRecord",s)},deleteRecord(s){this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&R(s).then(()=>{this.$emit("changePage",0)})})},deleteData(){const s=this.selectedTeams;this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&D({team_ids:s}).then(()=>{this.$emit("changePage",0),this.selectedTeams=[]})})},updateStatus(s,e){s.status=e,B(s,s.id).then(()=>{this.$emit("changePage",0)}).catch(d=>{var m;(m=d.response)!=null&&m.data&&console.log(response.message)})}}},E={class:"table-responsive"},Q={class:"table align-middle"},H=t("thead",null,[t("tr",null,[t("th",{width:"45px"}),t("th",null,"Name"),t("th",null,"Designation"),t("th",{width:"250"},"Status"),t("th",{width:"120",class:"text-center"},"Order"),t("th",{width:"150"},"Action")])],-1),j={key:0},F=["value"],G={class:"row flex-nowrap align-items-center"},O={class:"col-auto"},U={class:"user-img"},z=["src"],q=["src"],J={class:"col"},K={class:"user-info"},W=["onClick"],X={nowrap:"",class:"text-center"},Y=["onClick"],Z=t("i",{class:"bi bi-arrow-bar-down"},null,-1),tt=[Z],et=["onClick"],st=t("i",{class:"bi bi-arrow-bar-up"},null,-1),nt=[st],ot={class:"actions"},at=["onClick"],it=t("i",{class:"icon-edit"},null,-1),lt=["onClick"],ct=t("i",{class:"icon-delete"},null,-1),dt={key:1},rt=t("tr",null,[t("td",{colspan:"6",class:"text-center"},"No record found")],-1),ut=[rt],ht={class:"row gy-4 align-items-center"},_t={class:"col-auto"},mt=["disabled"],gt={class:"col-auto ms-auto"},bt={class:"row align-items-center justify-content-end"},ft=t("div",{class:"col-auto"},"Page",-1),pt={class:"col ps-0"},vt={class:"pagination-wrap"},Ct={class:"pagination flex-wrap pagination-sm mb-0"},kt={class:"page-item"};function wt(s,e,d,m,o,a){const g=u("btn");return i(),l(b,null,[t("div",E,[t("table",Q,[H,d.teams.length?(i(),l("tbody",j,[(i(!0),l(b,null,k(d.teams,(n,r)=>(i(),l("tr",{key:r},[t("td",null,[x(t("input",{class:"form-check-input",value:n.id,"onUpdate:modelValue":e[0]||(e[0]=c=>o.selectedTeams=c),type:"checkbox"},null,8,F),[[T,o.selectedTeams]])]),t("td",null,[t("div",G,[t("div",O,[t("div",U,[n.image?(i(),l("img",{key:0,src:`${n.image}`,alt:"",onError:e[1]||(e[1]=(...c)=>a.noImage&&a.noImage(...c))},null,40,z)):(i(),l("img",{key:1,src:o.noImg},null,8,q))])]),t("div",J,[t("div",K,_(n.name),1)])])]),t("td",null,_(n.designation),1),t("td",null,[t("span",{onClick:c=>a.updateStatus(n,n.status===1?0:1),class:A(n.status==1?"status active":"status")},null,10,W)]),t("td",X,[r!=d.teams.length-1?(i(),l("a",{key:0,class:"order-key",onClick:c=>a.down(n.order_number)},tt,8,Y)):w("",!0),n.order_number!="1"?(i(),l("a",{key:1,class:"order-key",onClick:c=>a.up(n.order_number)},nt,8,et)):w("",!0)]),t("td",null,[t("ul",ot,[t("li",null,[t("button",{class:"btn btn-link",onClick:c=>s.goToEdit(`/team-members/edit/${n.id}`,n.id)},[it,f("Edit ")],8,at)]),t("li",null,[t("button",{class:"btn",onClick:c=>a.deleteRecord(n.id)},[ct,f("Delete ")],8,lt)])])])]))),128))])):(i(),l("tbody",dt,ut))])]),t("div",ht,[t("div",_t,[t("button",{class:"btn btn-danger py-2",onClick:e[2]||(e[2]=(...n)=>a.deleteData&&a.deleteData(...n)),disabled:!o.selectedTeams.length}," Delete Selected ",8,mt)]),t("div",gt,[t("div",bt,[ft,t("div",pt,[t("nav",vt,[t("ul",Ct,[(i(!0),l(b,null,k(d.totalCount,n=>(i(),l("div",null,[t("li",kt,[h(g,{onClick:r=>a.changePage(n),class:"page-link",href:"#"},{default:L(()=>[f(_(n),1)]),_:2},1032,["onClick"])])]))),256))])])])])])])],64)}const yt=y(M,[["render",wt]]),xt={name:"AgeRangeList",components:{List:yt,Breadcrumb:I,RightSideButton:N,LeftSideHeader:V},data(){return{teams:[],searchQuery:"",totalPages:1,totalRecords:0,minAge:null,maxAge:null,rangeId:0,displayComponent:!0,breadcrumbs:[{class:null,url:"/team-members",name:"Team"},{class:"active",url:"",name:"List"}],btnData:{title:"Add New",url:"/team-members/add"}}},created(){this.getData()},methods:{getData(s=0){this.minAge=null,this.maxAge=null,this.rangeId=0,this.listLoading=!0,P(`?skip=${s}&search=${this.searchQuery}`).then(e=>{this.totalRecords=e.data.totalRecords,this.totalPages=e.data.totalRecords>10?Math.ceil(e.data.totalRecords/10):1,this.teams=e.data.data})},get(s){this.displayComponent=!1,S(s).then(e=>{this.displayComponent=!0,e.success===!0&&(this.minAge=e.data.min_age,this.maxAge=e.data.max_age,this.rangeId=e.data.id)})}}},Rt={class:"section-content bg-white col p-4"},Dt={class:"title-box"},Bt={class:"row gy-3"},Pt={class:"content-wrap pt-4"},St={class:"row mb-3 g-3 flex-sm-row-reverse align-items-center"},Tt={class:"col-sm-auto"},At={class:"data-search"},Lt={class:"col"},$t={class:"data-info"};function It(s,e,d,m,o,a){const g=u("Breadcrumb"),n=u("LeftSideHeader"),r=u("RightSideButton"),c=u("List");return i(),l("section",Rt,[h(g,{crumbs:o.breadcrumbs},null,8,["crumbs"]),t("div",Dt,[t("div",Bt,[h(n,{headerData:"Team Members"}),h(r,{btnData:o.btnData},null,8,["btnData"])])]),t("div",Pt,[t("div",St,[t("div",Tt,[t("div",At,[x(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=p=>o.searchQuery=p),onInput:e[1]||(e[1]=p=>a.getData()),class:"form-control form-control-sm",placeholder:"Search by Name"},null,544),[[$,o.searchQuery]])])]),t("div",Lt,[t("div",$t," Showing "+_(o.teams.length)+" of "+_(o.totalRecords)+" Results ",1)])]),h(c,{teams:o.teams,totalCount:o.totalPages,onChangePage:a.getData,onGetRecord:a.get},null,8,["teams","totalCount","onChangePage","onGetRecord"])])])}const jt=y(xt,[["render",It]]);export{jt as default};
