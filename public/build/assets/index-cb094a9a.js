import{c as p,d as S,a as R,u as B,f as D,b as P}from"./service-38c9e13c.js";import{n as C}from"./no-img-df4ddc69.js";import{_ as y,r as u,o as i,f as l,b as t,F as b,j as k,k as x,v as A,t as m,n as L,l as w,h as v,e as h,w as $,u as I}from"./app-1983373d.js";import{B as T}from"./Breadcrumb-0722ea03.js";import{R as N}from"./RightSideButton-c34e14fb.js";import{L as V}from"./LeftSideHeader-ba42ca70.js";const E={props:{services:Array,totalCount:Number},data(){return{selectedServices:[],noImg:C}},methods:{noImage(s){s.target.src=C},up(s){p({order_number:s,direction:"up"}).then(d=>{this.$emit("changePage",0)})},down(s){p({order_number:s,direction:"down"}).then(d=>{this.$emit("changePage",0)})},changePage(s){this.$emit("changePage",(s-1)*10)},editRecord(s){this.$emit("getRecord",s)},deleteRecord(s){this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&S(s).then(()=>{this.$emit("changePage",0)})})},deleteData(){const s=this.selectedServices;this.$swal({title:"Are you sure ?",showCancelButton:!0,icon:"",confirmButtonText:"Continue"}).then(e=>{e.isConfirmed&&R({service_ids:s}).then(()=>{this.$emit("changePage",0),this.selectedServices=[]})})},updateStatus(s,e){s.status=e,B(s,s.id).then(()=>{this.$emit("changePage",0)}).catch(d=>{var _;(_=d.response)!=null&&_.data&&console.log(response.message)})}}},M={class:"table-responsive"},Q={class:"table align-middle"},H=t("thead",null,[t("tr",null,[t("th",{width:"45px"}),t("th",null,"Title"),t("th",{width:"250"},"Status"),t("th",{width:"120",class:"text-center"},"Order"),t("th",{width:"150"},"Action")])],-1),j={key:0},F=["value"],G={class:"row flex-nowrap align-items-center"},O={class:"col-auto"},U={class:"user-img"},z=["src"],q=["src"],J={class:"col"},K={class:"user-info"},W=["onClick"],X={nowrap:"",class:"text-center"},Y=["onClick"],Z=t("i",{class:"bi bi-arrow-bar-down"},null,-1),tt=[Z],et=["onClick"],st=t("i",{class:"bi bi-arrow-bar-up"},null,-1),ot=[st],nt={class:"actions"},at=["onClick"],it=t("i",{class:"icon-edit"},null,-1),lt=["onClick"],ct=t("i",{class:"icon-delete"},null,-1),dt={key:1},rt=t("tr",null,[t("td",{colspan:"6",class:"text-center"},"No record found")],-1),ut=[rt],ht={class:"row gy-4 align-items-center"},_t={class:"col-auto"},mt=["disabled"],gt={class:"col-auto ms-auto"},bt={class:"row align-items-center justify-content-end"},vt=t("div",{class:"col-auto"},"Page",-1),ft={class:"col ps-0"},pt={class:"pagination-wrap"},Ct={class:"pagination flex-wrap pagination-sm mb-0"},kt={class:"page-item"};function wt(s,e,d,_,n,a){const g=u("btn");return i(),l(b,null,[t("div",M,[t("table",Q,[H,d.services.length?(i(),l("tbody",j,[(i(!0),l(b,null,k(d.services,(o,r)=>(i(),l("tr",{key:r},[t("td",null,[x(t("input",{class:"form-check-input",value:o.id,"onUpdate:modelValue":e[0]||(e[0]=c=>n.selectedServices=c),type:"checkbox"},null,8,F),[[A,n.selectedServices]])]),t("td",null,[t("div",G,[t("div",O,[t("div",U,[o.image?(i(),l("img",{key:0,src:`${o.image}`,alt:"",onError:e[1]||(e[1]=(...c)=>a.noImage&&a.noImage(...c))},null,40,z)):(i(),l("img",{key:1,src:n.noImg},null,8,q))])]),t("div",J,[t("div",K,m(o.title),1)])])]),t("td",null,[t("span",{onClick:c=>a.updateStatus(o,o.status===1?0:1),class:L(o.status==1?"status active":"status")},null,10,W)]),t("td",X,[r!=d.services.length-1?(i(),l("a",{key:0,class:"order-key",onClick:c=>a.down(o.order_number)},tt,8,Y)):w("",!0),o.order_number!="1"?(i(),l("a",{key:1,class:"order-key",onClick:c=>a.up(o.order_number)},ot,8,et)):w("",!0)]),t("td",null,[t("ul",nt,[t("li",null,[t("button",{class:"btn btn-link",onClick:c=>s.goToEdit(`/services/edit/${o.id}`,o.id)},[it,v("Edit ")],8,at)]),t("li",null,[t("button",{class:"btn",onClick:c=>a.deleteRecord(o.id)},[ct,v("Delete ")],8,lt)])])])]))),128))])):(i(),l("tbody",dt,ut))])]),t("div",ht,[t("div",_t,[t("button",{class:"btn btn-danger py-2",onClick:e[2]||(e[2]=(...o)=>a.deleteData&&a.deleteData(...o)),disabled:!n.selectedServices.length}," Delete Selected ",8,mt)]),t("div",gt,[t("div",bt,[vt,t("div",ft,[t("nav",pt,[t("ul",Ct,[(i(!0),l(b,null,k(d.totalCount,o=>(i(),l("div",null,[t("li",kt,[h(g,{onClick:r=>a.changePage(o),class:"page-link",href:"#"},{default:$(()=>[v(m(o),1)]),_:2},1032,["onClick"])])]))),256))])])])])])])],64)}const yt=y(E,[["render",wt]]),xt={name:"AgeRangeList",components:{List:yt,Breadcrumb:T,RightSideButton:N,LeftSideHeader:V},data(){return{services:[],searchQuery:"",totalPages:1,totalRecords:0,minAge:null,maxAge:null,rangeId:0,displayComponent:!0,breadcrumbs:[{class:null,url:"/services/list",name:"Services"},{class:"active",url:"",name:"List"}],btnData:{title:"Add New",url:"/services/add"}}},created(){this.getData()},methods:{getData(s=0){this.minAge=null,this.maxAge=null,this.rangeId=0,this.listLoading=!0,D(`?skip=${s}&search=${this.searchQuery}`).then(e=>{this.totalRecords=e.data.totalRecords,this.totalPages=e.data.totalRecords>10?Math.ceil(e.data.totalRecords/10):1,this.services=e.data.data})},get(s){this.displayComponent=!1,P(s).then(e=>{this.displayComponent=!0,e.success===!0&&(this.minAge=e.data.min_age,this.maxAge=e.data.max_age,this.rangeId=e.data.id)})}}},St={class:"section-content bg-white col p-4"},Rt={class:"title-box"},Bt={class:"row gy-3"},Dt={class:"content-wrap pt-4"},Pt={class:"row mb-3 g-3 flex-sm-row-reverse align-items-center"},At={class:"col-sm-auto"},Lt={class:"data-search"},$t={class:"col"},It={class:"data-info"};function Tt(s,e,d,_,n,a){const g=u("Breadcrumb"),o=u("LeftSideHeader"),r=u("RightSideButton"),c=u("List");return i(),l("section",St,[h(g,{crumbs:n.breadcrumbs},null,8,["crumbs"]),t("div",Rt,[t("div",Bt,[h(o,{headerData:"All Services"}),h(r,{btnData:n.btnData},null,8,["btnData"])])]),t("div",Dt,[t("div",Pt,[t("div",At,[t("div",Lt,[x(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=f=>n.searchQuery=f),onInput:e[1]||(e[1]=f=>a.getData()),class:"form-control form-control-sm",placeholder:"Search by Title"},null,544),[[I,n.searchQuery]])])]),t("div",$t,[t("div",It," Showing "+m(n.services.length)+" of "+m(n.totalRecords)+" Results ",1)])]),h(c,{services:n.services,totalCount:n.totalPages,onChangePage:a.getData,onGetRecord:a.get},null,8,["services","totalCount","onChangePage","onGetRecord"])])])}const jt=y(xt,[["render",Tt]]);export{jt as default};
