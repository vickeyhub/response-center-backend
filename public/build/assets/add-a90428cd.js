import{e as D}from"./service-38c9e13c.js";import{_ as b,r,o as h,f as g,e as a,w as y,b as e,n as S,t as v,l as V,y as w,z as k,h as _}from"./app-1983373d.js";import{B as x}from"./Breadcrumb-0722ea03.js";import{R as C}from"./RightSideButton-c34e14fb.js";import{L as E}from"./LeftSideHeader-ba42ca70.js";const B={data(){return{imageName:"",dragging:!1,image:null,formData:{title:null,sub_title:null,image:null,description:"",meta_title:null,meta_description:null,meta_keywords:null},schema:{title:"required|alpha_spaces|min:3|max:100|regex:^([^0-9]*)$",sub_title:"required|min:3|max:200"},descError:null}},methods:{addService(o,{resetForm:t}){if(this.descError=null,this.formData.description=="")this.descError="This field is required.";else if(this.formData.description.length<50)this.descError="Minimum 50 characters should be there.";else{let n=new FormData;n.append("image",this.file),n.append("title",this.formData.title),n.append("sub_title",this.formData.sub_title),n.append("description",this.formData.description),n.append("meta_title",this.formData.meta_title),n.append("meta_description",this.formData.meta_description),n.append("meta_keywords",this.formData.meta_keywords),D(n).then(m=>{this.handleResponse(m),m.success==!0&&(this.file="",t(),this.$router.push({path:"/services/list"}))}).catch(m=>{this.handleCatch(m)})}},onChange(o){var t=o.target.files||o.dataTransfer.files;if(!t.length){this.dragging=!1;return}this.createFile(t[0])},createFile(o){if(!o.type.match("jpg.*")&&!o.type.match("jpeg.*")&&!o.type.match("png.*")){this.handleResponse({message:"Format accepted: jpg, jpeg, png",success:!1}),this.dragging=!1;return}if(o.size>5e6){this.handleResponse({message:"please check file size no over 5 MB.",success:!1}),this.dragging=!1;return}this.imageName=o.name,this.file=o,this.dragging=!1},onChangeOfTitle(){this.formData.meta_title=this.formData.title,this.formData.meta_description=this.formData.title,this.formData.meta_keywords=this.formData.title},removeFile(){this.file=""}}},l=o=>(w("data-v-28044dc3"),o=o(),k(),o),T={class:"form-box"},M={class:"row"},N=l(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"Basic Details")],-1)),U={class:"col-md-6"},A={class:"form-field"},F=l(()=>e("label",{for:""},[_("Title"),e("sup",null,"*")],-1)),I={class:"error invalid-feedback"},R={class:"col-md-6"},j={class:"form-field"},H=l(()=>e("label",{for:""},[_("Sub Title"),e("sup",null,"*")],-1)),z={class:"error invalid-feedback"},L={class:"col-12"},Z={class:"form-field"},q=l(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},"Upload Image")]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),_(" Format accepted: jpg, jpeg, png ")])])],-1)),O={class:"uploader position-relative"},K={class:"uploader-info"},G=l(()=>e("i",{class:"icon-upload"},null,-1)),J=l(()=>e("p",{class:"dropZone-title"},[_(" Drag & drop or "),e("strong",null,"browse"),_(" your file. ")],-1)),P={key:0},Q={class:"col-12"},W={class:"form-field"},X=l(()=>e("label",{for:""},[_("Description"),e("sup",null,"*")],-1)),Y={class:"error invalid-feedback"},$={class:"row"},ee=l(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"SEO Fields")],-1)),te={class:"col-md-4"},se={class:"form-field"},oe=l(()=>e("label",{for:""},"Meta Title",-1)),ie={class:"col-md-4"},ae={class:"form-field"},le=l(()=>e("label",{for:""},"Meta Description",-1)),ne={class:"col-md-4"},re={class:"form-field"},de=l(()=>e("label",{for:""},"Meta Keywords",-1)),ce=l(()=>e("div",{class:"submit-wrap pt-3"},[e("button",{type:"submit",class:"btn btn-secondary"},"SUBMIT")],-1));function me(o,t,n,m,s,d){const c=r("vee-field"),p=r("ErrorMessage"),u=r("ckeditor"),f=r("vee-form");return h(),g("div",T,[a(f,{"validation-schema":s.schema,onSubmit:d.addService,enctype:"multipart/form-data"},{default:y(()=>[e("div",M,[N,e("div",U,[e("div",A,[F,a(c,{name:"title",type:"text",onInput:t[0]||(t[0]=i=>d.onChangeOfTitle()),modelValue:s.formData.title,"onUpdate:modelValue":t[1]||(t[1]=i=>s.formData.title=i),class:"form-control",placeholder:"Enter Title"},null,8,["modelValue"]),e("div",I,[a(p,{class:"invalid-feedback",name:"title"})])])]),e("div",R,[e("div",j,[H,a(c,{name:"sub_title",type:"text",modelValue:s.formData.sub_title,"onUpdate:modelValue":t[2]||(t[2]=i=>s.formData.sub_title=i),class:"form-control",placeholder:"Enter Sub Title"},null,8,["modelValue"]),e("div",z,[a(p,{class:"invalid-feedback",name:"sub_title"})])])]),e("div",L,[e("div",Z,[q,e("div",O,[e("div",K,[e("div",{class:S(["dropZone",s.dragging?"dropZone-over":""]),onDragenter:t[5]||(t[5]=i=>s.dragging=!0),onDragleave:t[6]||(t[6]=i=>s.dragging=!1)},[e("div",{class:"dropZone-info",onDrag:t[3]||(t[3]=(...i)=>d.onChange&&d.onChange(...i))},[G,J,s.imageName?(h(),g("small",P,v(s.imageName),1)):V("",!0)],32),e("input",{type:"file",onChange:t[4]||(t[4]=(...i)=>d.onChange&&d.onChange(...i))},null,32)],34)])])])]),e("div",Q,[e("div",W,[X,a(u,{editor:o.editor,modelValue:s.formData.description,"onUpdate:modelValue":t[7]||(t[7]=i=>s.formData.description=i),config:o.editorConfig},null,8,["editor","modelValue","config"]),e("div",Y,v(s.descError),1)])])]),e("div",$,[ee,e("div",te,[e("div",se,[oe,a(c,{name:"meta_title",type:"text",modelValue:s.formData.meta_title,"onUpdate:modelValue":t[8]||(t[8]=i=>s.formData.meta_title=i),class:"form-control",placeholder:"Enter Meta Title"},null,8,["modelValue"])])]),e("div",ie,[e("div",ae,[le,a(c,{name:"meta_description",type:"text",modelValue:s.formData.meta_description,"onUpdate:modelValue":t[9]||(t[9]=i=>s.formData.meta_description=i),class:"form-control",placeholder:"Enter Meta Description"},null,8,["modelValue"])])]),e("div",ne,[e("div",re,[de,a(c,{name:"meta_keywords",type:"text",modelValue:s.formData.meta_keywords,"onUpdate:modelValue":t[10]||(t[10]=i=>s.formData.meta_keywords=i),class:"form-control",placeholder:"Enter Meta Keywords"},null,8,["modelValue"])])])]),ce]),_:1},8,["validation-schema","onSubmit"])])}const _e=b(B,[["render",me],["__scopeId","data-v-28044dc3"]]),pe={name:"Services",components:{Add:_e,Breadcrumb:x,RightSideButton:C,LeftSideHeader:E},data(){return{breadcrumbs:[{class:null,url:"/services/list",name:"Services"},{class:"active",url:"",name:"Add"}],btnData:{title:"All Services",url:"/services/list"}}}},ue={class:"section-content bg-white col p-4"},fe={class:"title-box"},he={class:"row gy-3"},ge={class:"content-wrap pt-4"};function ve(o,t,n,m,s,d){const c=r("Breadcrumb"),p=r("LeftSideHeader"),u=r("RightSideButton"),f=r("Add",!0);return h(),g("section",ue,[a(c,{crumbs:s.breadcrumbs},null,8,["crumbs"]),e("div",fe,[e("div",he,[a(p,{headerData:"Add Service"}),a(u,{btnData:s.btnData},null,8,["btnData"])])]),e("div",ge,[a(f)])])}const we=b(pe,[["render",ve]]);export{we as default};
