import{c as B}from"./blog-54eb6a53.js";import{_ as V,r as n,o as _,f as u,e as l,w as D,b as e,x,t as v,l as y,n as C,y as S,z as E,h as m}from"./app-1983373d.js";/* empty css                                                         */import{B as M}from"./Breadcrumb-0722ea03.js";import{R as U}from"./RightSideButton-c34e14fb.js";import{L as I}from"./LeftSideHeader-ba42ca70.js";const A={data(){return{imageName:"",dragging:!1,image:null,blogImg:null,formData:{title:null,author_name:null,image:null,description:"",categories:[],meta_title:null,meta_description:null,meta_keywords:null},schema:{title:"required|min:3|max:300",author_name:"required|min:3|max:50|regex:^([^0-9]*)$",categories:"required"},descError:null}},mounted(){this.getCategories("blog")},methods:{addBlog(a,{resetForm:t}){if(this.descError=null,this.formData.description=="")this.descError="This field is required.";else if(this.formData.description.length<50)this.descError="Minimum 50 characters are allowed.";else{let r=new FormData;r.append("image",this.file),r.append("title",this.formData.title),r.append("author_name",this.formData.author_name),r.append("categories",this.formData.categories),r.append("description",this.formData.description),r.append("meta_title",this.formData.meta_title),r.append("meta_description",this.formData.meta_description),r.append("meta_keywords",this.formData.meta_keywords),B(r).then(p=>{this.handleResponse(p),p.success==!0&&(this.file="",t(),this.$router.push({path:"/blogs/list"}))}).catch(p=>{this.handleCatch(p)})}},onChangeOfTitle(){this.formData.meta_title=this.formData.title,this.formData.meta_description=this.formData.title,this.formData.meta_keywords=this.formData.title},onChange(a){var t=a.target.files||a.dataTransfer.files;if(!t.length){this.dragging=!1;return}this.createFile(t[0])},createFile(a){if(!a.type.match("jpg.*")&&!a.type.match("jpeg.*")&&!a.type.match("png.*")){this.handleResponse({message:"Format accepted: jpg, jpeg, png",success:!1}),this.dragging=!1;return}if(a.size>5e6){this.handleResponse({message:"please check file size no over 5 MB.",success:!1}),this.dragging=!1;return}console.log(a),this.blogImg=URL.createObjectURL(a),this.imageName=a.name,this.file=a,this.dragging=!1}}},i=a=>(S("data-v-22627885"),a=a(),E(),a),N={class:"form-box"},T={class:"row"},R=i(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"Basic Details")],-1)),j={class:"col-md-12"},F={class:"form-field"},L=i(()=>e("label",{for:""},[m("Title"),e("sup",null,"*")],-1)),q={class:"error invalid-feedback"},H={class:"col-md-6"},z={class:"form-field"},O=i(()=>e("label",{for:""},[m("Author's Name"),e("sup",null,"*")],-1)),Z={class:"error invalid-feedback"},K={class:"col-md-6"},P={class:"form-field"},G=i(()=>e("label",{for:""},[m("Categories"),e("sup",null,"*")],-1)),J={key:0,class:"error invalid-feedback"},Q={class:"col-12"},W={class:"form-field"},X=i(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},"Upload Image")]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),m(" Format accepted: jpg, jpeg, png ")])])],-1)),Y={class:"uploader position-relative"},$={class:"uploader-info"},ee={key:0,class:"icon-upload"},te=["src"],oe=i(()=>e("p",{class:"dropZone-title"},[m(" Drag & drop or "),e("strong",null,"browse"),m(" your file. ")],-1)),se={key:2},ae={class:"col-12"},le={class:"form-field"},ie=i(()=>e("label",{for:""},[m("Description"),e("sup",null,"*")],-1)),re={class:"error invalid-feedback"},ne={class:"row"},de=i(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"SEO Fields")],-1)),ce={class:"col-md-4"},me={class:"form-field"},pe=i(()=>e("label",{for:""},"Meta Title",-1)),_e={class:"col-md-4"},ue={class:"form-field"},fe=i(()=>e("label",{for:""},"Meta Description",-1)),he={class:"col-md-4"},ge={class:"form-field"},ve=i(()=>e("label",{for:""},"Meta Keywords",-1)),be=i(()=>e("div",{class:"submit-wrap pt-3"},[e("button",{type:"submit",class:"btn btn-secondary"},"SUBMIT")],-1));function De(a,t,r,p,o,c){const d=n("vee-field"),f=n("ErrorMessage"),h=n("Multiselect"),g=n("ckeditor"),k=n("vee-form");return _(),u("div",N,[l(k,{"validation-schema":o.schema,onSubmit:c.addBlog,enctype:"multipart/form-data"},{default:D(()=>[e("div",T,[R,e("div",j,[e("div",F,[L,l(d,{name:"title",type:"text",onInput:t[0]||(t[0]=s=>c.onChangeOfTitle()),modelValue:o.formData.title,"onUpdate:modelValue":t[1]||(t[1]=s=>o.formData.title=s),class:"form-control",placeholder:"Enter Title"},null,8,["modelValue"]),e("div",q,[l(f,{class:"invalid-feedback",name:"title"})])])]),e("div",H,[e("div",z,[O,l(d,{name:"author_name",type:"text",modelValue:o.formData.author_name,"onUpdate:modelValue":t[2]||(t[2]=s=>o.formData.author_name=s),class:"form-control",placeholder:"Enter Author's Name"},null,8,["modelValue"]),e("div",Z,[l(f,{class:"invalid-feedback",name:"author_name"})])])]),e("div",K,[e("div",P,[G,l(d,{class:"form-control",name:"categories",type:"text",modelValue:o.formData.categories,"onUpdate:modelValue":t[4]||(t[4]=s=>o.formData.categories=s)},{default:D(({field:s,errors:b})=>[l(h,x({modelValue:o.formData.categories,"onUpdate:modelValue":t[3]||(t[3]=w=>o.formData.categories=w),mode:"tags"},s,{"close-on-select":!1,searchable:!0,"create-option":!1,valueProp:"id",label:"name",required:!0,options:a.categories,placeholder:"Select Categories"}),null,16,["modelValue","options"]),b[0]?(_(),u("div",J,v(b[0]),1)):y("",!0)]),_:1},8,["modelValue"])])]),e("div",Q,[e("div",W,[X,e("div",Y,[e("div",$,[e("div",{class:C(["dropZone",o.dragging?"dropZone-over":""]),onDragenter:t[7]||(t[7]=s=>o.dragging=!0),onDragleave:t[8]||(t[8]=s=>o.dragging=!1)},[e("div",{class:"dropZone-info",onDrag:t[5]||(t[5]=(...s)=>c.onChange&&c.onChange(...s))},[o.blogImg==null?(_(),u("i",ee)):(_(),u("img",{key:1,src:o.blogImg,style:{height:"100px !important"}},null,8,te)),oe,o.imageName?(_(),u("small",se,v(o.imageName),1)):y("",!0)],32),e("input",{type:"file",onChange:t[6]||(t[6]=(...s)=>c.onChange&&c.onChange(...s))},null,32)],34)])])])]),e("div",ae,[e("div",le,[ie,l(g,{editor:a.editor,modelValue:o.formData.description,"onUpdate:modelValue":t[9]||(t[9]=s=>o.formData.description=s),config:a.editorConfig},null,8,["editor","modelValue","config"]),e("div",re,v(o.descError),1)])])]),e("div",ne,[de,e("div",ce,[e("div",me,[pe,l(d,{name:"meta_title",type:"text",modelValue:o.formData.meta_title,"onUpdate:modelValue":t[10]||(t[10]=s=>o.formData.meta_title=s),class:"form-control",placeholder:"Enter Meta Title"},null,8,["modelValue"])])]),e("div",_e,[e("div",ue,[fe,l(d,{name:"meta_description",type:"text",modelValue:o.formData.meta_description,"onUpdate:modelValue":t[11]||(t[11]=s=>o.formData.meta_description=s),class:"form-control",placeholder:"Enter Meta Description"},null,8,["modelValue"])])]),e("div",he,[e("div",ge,[ve,l(d,{name:"meta_keywords",type:"text",modelValue:o.formData.meta_keywords,"onUpdate:modelValue":t[12]||(t[12]=s=>o.formData.meta_keywords=s),class:"form-control",placeholder:"Enter Meta Keywords"},null,8,["modelValue"])])])]),be]),_:1},8,["validation-schema","onSubmit"])])}const ye=V(A,[["render",De],["__scopeId","data-v-22627885"]]),Ve={name:"AddBlog",components:{Add:ye,Breadcrumb:M,RightSideButton:U,LeftSideHeader:I},data(){return{btnData:{title:"All Blogs",url:"/blogs/list"},breadcrumbs:[{class:null,url:"/blogs/list",name:"Blogs"},{class:"active",url:"",name:"Add"}]}}},ke={class:"section-content bg-white col p-4"},we={class:"title-box"},Be={class:"row gy-3"},xe={class:"content-wrap pt-4"};function Ce(a,t,r,p,o,c){const d=n("Breadcrumb"),f=n("LeftSideHeader"),h=n("RightSideButton"),g=n("Add",!0);return _(),u("section",ke,[l(d,{crumbs:o.breadcrumbs},null,8,["crumbs"]),e("div",we,[e("div",Be,[l(f,{headerData:"Add Blog"}),l(h,{btnData:o.btnData},null,8,["btnData"])])]),e("div",xe,[l(g)])])}const Ne=V(Ve,[["render",Ce]]);export{Ne as default};
