import{c as L}from"./mentalHealth-061c93a4.js";import{_ as w,r as h,o as c,f as m,e as n,w as D,b as e,x,t as v,l as f,n as V,F as E,j as F,A as I,y as M,z as T,h as d}from"./app-1983373d.js";/* empty css                                                         */import{B as U}from"./Breadcrumb-0722ea03.js";import{R as B}from"./RightSideButton-c34e14fb.js";import{L as S}from"./LeftSideHeader-ba42ca70.js";const N={data(){return{images:[],uploadedImages:[],fileName:"",videoName:"",dragging:!1,formData:{title:null,description:"",type:"",categories:[],meta_title:null,meta_description:null,meta_keywords:null,images:[],files:[],video:"",externalLink:"",youtubeLink:"",vimeoLink:""},schema:{title:"required|min:3|max:300",categories:"required",type:"required"},types:[{text:"Images",value:"image"},{text:"Video",value:"video"},{text:"Youtube Link",value:"youtube-link"},{text:"External Link",value:"external-link"},{text:"File",value:"file"}],descError:null,imgError:null,videoError:null}},mounted(){this.getCategories("mental-health")},methods:{submitData(i,{resetForm:t}){if(this.descError=null,this.imgError=null,this.formData.description=="")this.descError="This field is required.";else if(this.formData.description.length<50)this.descError="Minimum 50 characters are allowed.";else if(this.formData.type=="image"&&!this.uploadedImages.length)this.imgError="Please upload at least 1 image.";else if(this.formData.type=="video"&&this.file=="")this.videoError="Please upload video.";else{let l=new FormData;l.append("file",this.file),l.append("video",this.file),l.append("title",this.formData.title),l.append("type",this.formData.type),l.append("categories",this.formData.categories),l.append("description",this.formData.description),l.append("meta_title",this.formData.meta_title),l.append("meta_description",this.formData.meta_description),l.append("meta_keywords",this.formData.meta_keywords),l.append("youtube_link",this.formData.youtubeLink),l.append("external_link",this.formData.externalLink);for(let u=0;u<this.uploadedImages.length;u++)l.append("images[]",this.uploadedImages[u]);L(l).then(u=>{this.handleResponse(u),u.success==!0&&(this.file="",t(),this.$router.push({path:"/mental-health/list"}))}).catch(u=>{this.handleCatch(u)})}},onChangeOfTitle(){this.formData.meta_title=this.formData.title,this.formData.meta_description=this.formData.title,this.formData.meta_keywords=this.formData.title},onTypeChange(){this.videoError=null,this.imgError=null,this.schema.youtubeLink="",this.schema.vimeoLink="",this.schema.externalLink="",this.videoName="",this.file="",this.formData.type=="youtube-link"?this.schema.youtubeLink="required|regex:^(https?://)?((www.)?youtube.com)/.+$|url":this.formData.type=="vimeo-link"?this.schema.vimeoLink="required":this.formData.type=="external-link"&&(this.schema.externalLink="required|url")},onChange(i){this.imgError=null;var t=i.target.files||i.dataTransfer.files;if(!t.length){this.dragging=!1;return}this.createImage(t)},removeImage(i){this.images.splice(i,1)},createImage(i){for(var t=this,l=0;l<i.length;l++){let s=i[l];if(!s.type.match("jpg.*")&&!s.type.match("jpeg.*")&&!s.type.match("png.*")){this.handleResponse({message:"Format accepted: jpg, jpeg, png",success:!1}),t.images=[],this.dragging=!1;return}if(s.size>5e6){this.handleResponse({message:"Maximum file size whould be 5 MB.",success:!1}),t.images=[],this.dragging=!1;return}var u=new FileReader;u.onload=function(r){const p=r.target.result;t.images.push(p)},u.readAsDataURL(i[l]),this.uploadedImages.push(i[l])}},createVideo(i){if(!i.type.match("mp4.*")&&!i.type.match("mov.*")){this.handleResponse({message:"Format accepted: mp4, mov",success:!1}),this.dragging=!1;return}if(i.size>5e6){this.handleResponse({message:"please check file size no over 5 MB.",success:!1}),this.dragging=!1;return}this.videoName=i.name,this.file=i,this.dragging=!1},createFile(i){if(!i.type.match("application/msword.*")&&!i.type.match("application/pdf.*")&&!i.type.match("application/vnd.ms-excel.*")){this.handleResponse({message:"Format accepted: doc, docx, pdf, xlsx",success:!1}),this.dragging=!1;return}if(i.size>5e6){this.handleResponse({message:"please check file size no over 5 MB.",success:!1}),this.dragging=!1;return}this.fileName=i.name,this.file=i,this.dragging=!1},removeFile(){this.file=""},onVideoChange(i){this.videoError=null;var t=i.target.files||i.dataTransfer.files;if(!t.length){this.dragging=!1;return}this.createVideo(t[0])},onFileChange(i){var t=i.target.files||i.dataTransfer.files;if(!t.length){this.dragging=!1;return}this.createFile(t[0])},getYouTubeVideoId(i){const t=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/ ]{11})/,l=i.match(t);return l&&l[1]?l[1]:null}},computed:{}},a=i=>(M("data-v-7eb86c0c"),i=i(),T(),i),R={class:"form-box"},A={class:"row"},Z=a(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"Basic Details")],-1)),q={class:"col-md-12"},z={class:"form-field"},j=a(()=>e("label",{for:""},[d("Title"),e("sup",null,"*")],-1)),H={class:"error invalid-feedback"},P={class:"col-md-6"},Y={class:"form-field"},O=a(()=>e("label",{for:""},[d("Categories"),e("sup",null,"*")],-1)),K={key:0,class:"error invalid-feedback"},W={class:"col-md-6"},G={class:"form-field"},J=a(()=>e("label",{for:""},"Type",-1)),Q={key:0,class:"error invalid-feedback"},X={key:0,class:"col-12"},$={class:"form-field mb-2"},ee=a(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},[d("Upload Image"),e("sup",null,"*")])]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),d(" Format accepted: jpg, jpeg, png ")])])],-1)),te={class:"uploader position-relative"},se={class:"uploader-info"},oe=a(()=>e("i",{class:"icon-upload"},null,-1)),ie=a(()=>e("p",{class:"dropZone-title"},[d(" Drag & drop or "),e("strong",null,"browse"),d(" your file. ")],-1)),le=[oe,ie],ae={class:"error invalid-feedback"},ne={class:"thumbWrapper"},re={key:0,class:"uploaded-images"},de={class:"thumbBox"},ce=["onClick"],me=a(()=>e("i",{class:"bi bi-trash-fill"},null,-1)),ue=[me],pe=["src"],fe={key:1,class:"col-12"},he={class:"form-field"},ge=a(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},[d("Upload File"),e("sup",null,"*")])]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),d(" Format accepted: doc, docx, pdf, xlsx ")])])],-1)),_e={class:"uploader position-relative"},ve={class:"uploader-info"},be=a(()=>e("i",{class:"icon-upload"},null,-1)),ye=a(()=>e("p",{class:"dropZone-title"},[d(" Drag & drop or "),e("strong",null,"browse"),d(" your file. ")],-1)),ke={key:0},De={key:2,class:"col-12"},Ve={class:"form-field"},xe=a(()=>e("div",{class:"row"},[e("div",{class:"col"},[e("label",{for:""},[d("Upload Video"),e("sup",null,"*")])]),e("div",{class:"col-sm-auto"},[e("div",{class:"form-field-info"},[e("i",{class:"icon-bulb text-secondary"}),d(" Format accepted: mp4, mov ")])])],-1)),we={class:"uploader position-relative"},Ce={class:"uploader-info"},Le=a(()=>e("i",{class:"icon-upload"},null,-1)),Ee=a(()=>e("p",{class:"dropZone-title"},[d(" Drag & drop or "),e("strong",null,"browse"),d(" your file. ")],-1)),Fe={key:0},Ie={class:"error invalid-feedback"},Me={class:"error invalid-feedback"},Te={key:3,class:"col-12"},Ue={class:"form-field"},Be=a(()=>e("label",{for:""},[d("Youtube Link"),e("sup",null,"*")],-1)),Se={class:"error invalid-feedback"},Ne={key:4,class:"col-12"},Re={class:"form-field"},Ae=a(()=>e("label",{for:""},[d("Vimeo Link"),e("sup",null,"*")],-1)),Ze={class:"error invalid-feedback"},qe={key:5,class:"col-12"},ze={class:"form-field"},je=a(()=>e("label",{for:""},[d("External Link"),e("sup",null,"*")],-1)),He={class:"error invalid-feedback"},Pe={class:"col-12"},Ye={class:"form-field"},Oe=a(()=>e("label",{for:""},[d("Description"),e("sup",null,"*")],-1)),Ke={class:"error invalid-feedback"},We={class:"row"},Ge=a(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"SEO Fields")],-1)),Je={class:"col-md-4"},Qe={class:"form-field"},Xe=a(()=>e("label",{for:""},"Meta Title",-1)),$e={class:"col-md-4"},et={class:"form-field"},tt=a(()=>e("label",{for:""},"Meta Description",-1)),st={class:"col-md-4"},ot={class:"form-field"},it=a(()=>e("label",{for:""},"Meta Keywords",-1)),lt=a(()=>e("div",{class:"submit-wrap pt-3"},[e("button",{type:"submit",class:"btn btn-secondary"},"SUBMIT")],-1));function at(i,t,l,u,s,r){const p=h("vee-field"),g=h("ErrorMessage"),b=h("Multiselect"),k=h("ckeditor"),C=h("vee-form");return c(),m("div",R,[n(C,{"validation-schema":s.schema,onSubmit:r.submitData,enctype:"multipart/form-data"},{default:D(()=>[e("div",A,[Z,e("div",q,[e("div",z,[j,n(p,{name:"title",type:"text",onInput:t[0]||(t[0]=o=>r.onChangeOfTitle()),modelValue:s.formData.title,"onUpdate:modelValue":t[1]||(t[1]=o=>s.formData.title=o),class:"form-control",placeholder:"Enter Title"},null,8,["modelValue"]),e("div",H,[n(g,{class:"invalid-feedback",name:"title"})])])]),e("div",P,[e("div",Y,[O,n(p,{class:"form-select",name:"categories",type:"text",modelValue:s.formData.categories,"onUpdate:modelValue":t[3]||(t[3]=o=>s.formData.categories=o)},{default:D(({field:o,errors:_})=>[n(b,x({modelValue:s.formData.categories,"onUpdate:modelValue":t[2]||(t[2]=y=>s.formData.categories=y),mode:"tags"},o,{"close-on-select":!1,searchable:!0,"create-option":!1,valueProp:"id",label:"name",required:!0,options:i.categories,placeholder:"Select Categories"}),null,16,["modelValue","options"]),_[0]?(c(),m("div",K,v(_[0]),1)):f("",!0)]),_:1},8,["modelValue"])])]),e("div",W,[e("div",G,[J,n(p,{class:"form-select",name:"type",type:"text",modelValue:s.formData.type,"onUpdate:modelValue":t[5]||(t[5]=o=>s.formData.type=o)},{default:D(({field:o,errors:_})=>[n(b,x({modelValue:s.formData.type,"onUpdate:modelValue":t[4]||(t[4]=y=>s.formData.type=y),mode:"single"},o,{"close-on-select":!0,searchable:!0,onChange:r.onTypeChange,"create-option":!1,valueProp:"value",label:"text",required:!0,options:s.types,placeholder:"Select Type"}),null,16,["modelValue","onChange","options"]),_[0]?(c(),m("div",Q,v(_[0]),1)):f("",!0)]),_:1},8,["modelValue"])])]),s.formData.type=="image"?(c(),m("div",X,[e("div",$,[ee,e("div",te,[e("div",se,[e("div",{class:V(["dropZone",s.dragging?"dropZone-over":""]),onDragenter:t[8]||(t[8]=o=>s.dragging=!0),onDragleave:t[9]||(t[9]=o=>s.dragging=!1)},[e("div",{class:"dropZone-info",onDrag:t[6]||(t[6]=(...o)=>r.onChange&&r.onChange(...o))},le,32),e("input",{type:"file",accept:"image/*",multiple:"",onChange:t[7]||(t[7]=(...o)=>r.onChange&&r.onChange(...o))},null,32)],34)])])]),e("div",ae,v(s.imgError),1),e("div",ne,[s.images?(c(),m("ul",re,[(c(!0),m(E,null,F(s.images,(o,_)=>(c(),m("li",null,[e("div",de,[e("a",{href:"",class:"delete",onClick:I(y=>r.removeImage(_),["prevent"])},ue,8,ce),e("img",{src:o,alt:""},null,8,pe)])]))),256))])):f("",!0)])])):f("",!0),s.formData.type=="file"?(c(),m("div",fe,[e("div",he,[ge,e("div",_e,[e("div",ve,[e("div",{class:V(["dropZone",s.dragging?"dropZone-over":""]),onDragenter:t[12]||(t[12]=o=>s.dragging=!0),onDragleave:t[13]||(t[13]=o=>s.dragging=!1)},[e("div",{class:"dropZone-info",onDrag:t[10]||(t[10]=(...o)=>r.onFileChange&&r.onFileChange(...o))},[be,ye,s.fileName?(c(),m("small",ke,v(s.fileName),1)):f("",!0)],32),e("input",{type:"file",onChange:t[11]||(t[11]=(...o)=>r.onFileChange&&r.onFileChange(...o))},null,32)],34)])])])])):f("",!0),s.formData.type=="video"?(c(),m("div",De,[e("div",Ve,[xe,e("div",we,[e("div",Ce,[e("div",{class:V(["dropZone",s.dragging?"dropZone-over":""]),onDragenter:t[16]||(t[16]=o=>s.dragging=!0),onDragleave:t[17]||(t[17]=o=>s.dragging=!1)},[e("div",{class:"dropZone-info",onDrag:t[14]||(t[14]=(...o)=>r.onVideoChange&&r.onVideoChange(...o))},[Le,Ee,s.videoName?(c(),m("small",Fe,v(s.videoName),1)):f("",!0)],32),e("input",{type:"file",onChange:t[15]||(t[15]=(...o)=>r.onVideoChange&&r.onVideoChange(...o))},null,32)],34)])]),e("div",Ie,v(s.videoError),1),e("div",Me,[n(g,{class:"invalid-feedback",name:"video"})])])])):f("",!0),s.formData.type=="youtube-link"?(c(),m("div",Te,[e("div",Ue,[Be,n(p,{name:"youtubeLink",type:"text",modelValue:s.formData.youtubeLink,"onUpdate:modelValue":t[18]||(t[18]=o=>s.formData.youtubeLink=o),class:"form-control",placeholder:"https://www.youtube.com/watch?v=9y3N0TYr_Yc"},null,8,["modelValue"]),e("div",Se,[n(g,{class:"invalid-feedback",name:"youtubeLink"})])])])):f("",!0),s.formData.type=="vimeo-link"?(c(),m("div",Ne,[e("div",Re,[Ae,n(p,{name:"vimeoLink",type:"text",modelValue:s.formData.vimeoLink,"onUpdate:modelValue":t[19]||(t[19]=o=>s.formData.vimeoLink=o),class:"form-control",placeholder:"https://vimeo.com/22484953"},null,8,["modelValue"]),e("div",Ze,[n(g,{class:"invalid-feedback",name:"vimeoLink"})])])])):f("",!0),s.formData.type=="external-link"?(c(),m("div",qe,[e("div",ze,[je,n(p,{name:"externalLink",type:"text",modelValue:s.formData.externalLink,"onUpdate:modelValue":t[20]||(t[20]=o=>s.formData.externalLink=o),class:"form-control",placeholder:"http://"},null,8,["modelValue"]),e("div",He,[n(g,{class:"invalid-feedback",name:"externalLink"})])])])):f("",!0),e("div",Pe,[e("div",Ye,[Oe,n(k,{editor:i.editor,modelValue:s.formData.description,"onUpdate:modelValue":t[21]||(t[21]=o=>s.formData.description=o),config:i.editorConfig},null,8,["editor","modelValue","config"]),e("div",Ke,v(s.descError),1)])])]),e("div",We,[Ge,e("div",Je,[e("div",Qe,[Xe,n(p,{name:"meta_title",type:"text",modelValue:s.formData.meta_title,"onUpdate:modelValue":t[22]||(t[22]=o=>s.formData.meta_title=o),class:"form-control",placeholder:"Enter Meta Title"},null,8,["modelValue"])])]),e("div",$e,[e("div",et,[tt,n(p,{name:"meta_description",type:"text",modelValue:s.formData.meta_description,"onUpdate:modelValue":t[23]||(t[23]=o=>s.formData.meta_description=o),class:"form-control",placeholder:"Enter Meta Description"},null,8,["modelValue"])])]),e("div",st,[e("div",ot,[it,n(p,{name:"meta_keywords",type:"text",modelValue:s.formData.meta_keywords,"onUpdate:modelValue":t[24]||(t[24]=o=>s.formData.meta_keywords=o),class:"form-control",placeholder:"Enter Meta Keywords"},null,8,["modelValue"])])])]),lt]),_:1},8,["validation-schema","onSubmit"])])}const nt=w(N,[["render",at],["__scopeId","data-v-7eb86c0c"]]),rt={name:"AddBlog",components:{Add:nt,Breadcrumb:U,RightSideButton:B,LeftSideHeader:S},data(){return{btnData:{title:"All Articles",url:"/mental-health/list"},breadcrumbs:[{class:null,url:"/mental-health/list",name:"Mental Health"},{class:"active",url:"",name:"Add"}]}}},dt={class:"section-content bg-white col p-4"},ct={class:"title-box"},mt={class:"row gy-3"},ut={class:"content-wrap pt-4"};function pt(i,t,l,u,s,r){const p=h("Breadcrumb"),g=h("LeftSideHeader"),b=h("RightSideButton"),k=h("Add",!0);return c(),m("section",dt,[n(p,{crumbs:s.breadcrumbs},null,8,["crumbs"]),e("div",ct,[e("div",mt,[n(g,{headerData:"Add Article"}),n(b,{btnData:s.btnData},null,8,["btnData"])])]),e("div",ut,[n(k)])])}const yt=w(rt,[["render",pt]]);export{yt as default};
