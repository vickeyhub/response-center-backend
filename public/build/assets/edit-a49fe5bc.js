import{b as E,e as k}from"./faq-4c155484.js";import{_ as y,r as n,o as r,f as c,l as v,b as e,e as i,w as D,x as S,t as b,F as x,y as B,z as F,h as p}from"./app-1983373d.js";/* empty css                                                         */import{B as I}from"./Breadcrumb-0722ea03.js";import{R as M}from"./RightSideButton-c34e14fb.js";import{L as C}from"./LeftSideHeader-ba42ca70.js";const T={data(){return{displayOverlay:!0,faqData:{question:null,sub_title:null,answer:"",meta_title:null,meta_description:null,meta_keywords:null},tempfaqData:{},schema:{question:"required|min:20",categories:"required"},descError:null}},async mounted(){await this.getCategories("faq"),await this.getFaq();let s=this;new Promise(function(t,h){setTimeout(()=>{s.faqData=s.tempfaqData,s.displayOverlay=!1,t()},2500)})},methods:{async getFaq(){const s=`${this.$route.params.faqsId}`;E(s).then(t=>{t.success===!0&&(this.tempfaqData=t.data)})},updateFaq(){if(this.descError=null,this.faqData.answer=="")this.descError="This field is required.";else if(this.faqData.answer.length<50)this.descError="Minimum 50 characters are allowed.";else{let s=new FormData;s.append("question",this.faqData.question),s.append("answer",this.faqData.answer),s.append("categories",this.faqData.categoryIds),s.append("meta_title",this.faqData.meta_title),s.append("meta_description",this.faqData.meta_description),s.append("meta_keywords",this.faqData.meta_keywords),k(s,this.faqData.id).then(t=>{this.handleResponse(t),t.success==!0&&this.$router.push({path:"/faqs/list"})}).catch(t=>{this.handleCatch(t)})}},onChangeOfTitle(){this.faqData.meta_title=this.faqData.question,this.faqData.meta_description=this.faqData.question,this.faqData.meta_keywords=this.faqData.question}}},l=s=>(B("data-v-6c3579d2"),s=s(),F(),s),U={key:0,class:"overlay"},O=l(()=>e("div",{class:"overlay__inner"},[e("div",{class:"overlay__content"},[e("span",{class:"spinner"})])],-1)),H=[O],R={class:"form-box"},A={class:"row"},L=l(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"Basic Details")],-1)),N={class:"col-md-12"},Q={class:"form-field"},P=l(()=>e("label",{for:""},[p("Question"),e("sup",null,"*")],-1)),K={class:"error invalid-feedback"},j={class:"col-md-12"},z={class:"form-field"},G=l(()=>e("label",{for:""},[p("Categories"),e("sup",null,"*")],-1)),J={key:0,class:"error invalid-feedback"},W={class:"col-12"},X={class:"form-field"},Y=l(()=>e("label",{for:""},[p("Answer"),e("sup",null,"*")],-1)),Z={class:"error invalid-feedback"},$={class:"row"},ee=l(()=>e("div",{class:"col-md-12"},[e("h4",{class:"subHeading"},"SEO Fields")],-1)),te={class:"col-md-4"},se={class:"form-field"},ae=l(()=>e("label",{for:""},"Meta Title",-1)),oe={class:"col-md-4"},ie={class:"form-field"},le=l(()=>e("label",{for:""},"Meta Description",-1)),ne={class:"col-md-4"},de={class:"form-field"},re=l(()=>e("label",{for:""},"Meta Keywords",-1)),ce=l(()=>e("div",{class:"submit-wrap pt-3"},[e("button",{type:"submit",class:"btn btn-secondary"},"SUBMIT")],-1));function me(s,t,h,g,a,m){const d=n("vee-field"),_=n("ErrorMessage"),u=n("Multiselect"),f=n("ckeditor"),w=n("vee-form");return r(),c(x,null,[a.displayOverlay?(r(),c("div",U,H)):v("",!0),e("div",R,[i(w,{"validation-schema":a.schema,onSubmit:m.updateFaq,enctype:"multipart/form-data"},{default:D(()=>[e("div",A,[L,e("div",N,[e("div",Q,[P,i(d,{name:"question",type:"text",onInput:t[0]||(t[0]=o=>m.onChangeOfTitle()),modelValue:a.faqData.question,"onUpdate:modelValue":t[1]||(t[1]=o=>a.faqData.question=o),class:"form-control",placeholder:"Enter Question"},null,8,["modelValue"]),e("div",K,[i(_,{class:"invalid-feedback",name:"question"})])])]),e("div",j,[e("div",z,[G,i(d,{class:"form-control",name:"categories",type:"text",modelValue:a.faqData.categoryIds,"onUpdate:modelValue":t[3]||(t[3]=o=>a.faqData.categoryIds=o)},{default:D(({field:o,errors:q})=>[i(u,S({modelValue:a.faqData.categoryIds,"onUpdate:modelValue":t[2]||(t[2]=V=>a.faqData.categoryIds=V),mode:"tags"},o,{"close-on-select":!1,searchable:!0,"create-option":!1,valueProp:"id",label:"name",required:!0,options:s.categories,placeholder:"Select Categories"}),null,16,["modelValue","options"]),q[0]?(r(),c("div",J,b(q[0]),1)):v("",!0)]),_:1},8,["modelValue"])])]),e("div",W,[e("div",X,[Y,i(f,{editor:s.editor,modelValue:a.faqData.answer,"onUpdate:modelValue":t[4]||(t[4]=o=>a.faqData.answer=o),config:s.editorConfig},null,8,["editor","modelValue","config"]),e("div",Z,b(a.descError),1)])])]),e("div",$,[ee,e("div",te,[e("div",se,[ae,i(d,{name:"meta_title",type:"text",modelValue:a.faqData.meta_title,"onUpdate:modelValue":t[5]||(t[5]=o=>a.faqData.meta_title=o),class:"form-control",placeholder:"Enter Meta Title"},null,8,["modelValue"])])]),e("div",oe,[e("div",ie,[le,i(d,{name:"meta_description",type:"text",modelValue:a.faqData.meta_description,"onUpdate:modelValue":t[6]||(t[6]=o=>a.faqData.meta_description=o),class:"form-control",placeholder:"Enter Meta Description"},null,8,["modelValue"])])]),e("div",ne,[e("div",de,[re,i(d,{name:"meta_keywords",type:"text",modelValue:a.faqData.meta_keywords,"onUpdate:modelValue":t[7]||(t[7]=o=>a.faqData.meta_keywords=o),class:"form-control",placeholder:"Enter Meta Keywords"},null,8,["modelValue"])])])]),ce]),_:1},8,["validation-schema","onSubmit"])])],64)}const _e=y(T,[["render",me],["__scopeId","data-v-6c3579d2"]]),ue={name:"EditFaq",components:{Edit:_e,Breadcrumb:I,RightSideButton:M,LeftSideHeader:C},data(){return{btnData:{title:"All FAQ",url:"/faqs/list"},breadcrumbs:[{class:null,url:"/faqs/list",name:"Faq"},{class:"active",url:"",name:"Edit"}]}}},fe={class:"section-content bg-white col p-4"},pe={class:"title-box"},he={class:"row gy-3"},qe={class:"content-wrap pt-4"};function ve(s,t,h,g,a,m){const d=n("Breadcrumb"),_=n("LeftSideHeader"),u=n("RightSideButton"),f=n("Edit",!0);return r(),c("section",fe,[i(d,{crumbs:a.breadcrumbs},null,8,["crumbs"]),e("div",pe,[e("div",he,[i(_,{headerData:"Edit FAQ"}),i(u,{btnData:a.btnData},null,8,["btnData"])])]),e("div",qe,[i(f)])])}const Ee=y(ue,[["render",ve]]);export{Ee as default};
